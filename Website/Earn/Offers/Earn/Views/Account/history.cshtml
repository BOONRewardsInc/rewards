<!--
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the MIT license. See LICENSE.txt file in the project root for full license information.
-->
@model Earn.Offers.Earn.Models.AccountsPageModel
@{
    Layout = "~/offers/earn/views/account/accountslayout.cshtml";
    ViewBag.Title = "Transaction History";
}

<section id="history" class="accounts-container">
    <div class="container">
        <h1>Transaction history</h1>

        <div class="history-container">
            @{

                if (Model.RedemptionHistory.Count() == 0 && Model.PendingRedemptionHistory.Count() == 0)
                {
                    <h2>You don't have any transactions yet.</h2>
                    <br />
                }
                <p>Your Earn Credit balance includes confirmed transactions only. Please note that it may take a few days before a pending transaction appears in your confirmed transaction history. And in some cases, Shell transactions may not show up in your Pending transactions at all, but should show up in your Confirmed transactions within a few days.</p>
                <br />

                if (Model.PendingRedemptionHistory.Count() > 0)
                {
                    <h2>Pending Transactions</h2>
                    @Html.Partial("~/offers/earn/views/common/redemptionhistory.cshtml", Model.PendingRedemptionHistory, new ViewDataDictionary { { "id", "pendingRedemptionHistoryGrid" } })
                }

                <br />
                <br />
                if (Model.RedemptionHistory.Count() > 0)
                {
                    <h2>Confirmed Transactions</h2>
                    @Html.Partial("~/offers/earn/views/common/redemptionhistory.cshtml", Model.RedemptionHistory, new ViewDataDictionary { { "id", "redemptionHistoryGrid" } })
                }
            }
        </div>

    </div>
</section>

@section Fineprints{
    <section id="fineprints">
        <div class="container">
            <p class="fineprint">
                [*] Earn Credits are only received for transactions at participating merchants in Arizona, Massachusetts and Washington, and only apply to purchases made at the online <a href="http://www.microsoftstore.com/">Microsoft Store</a> and local Microsoft Stores in Arizona, Massachusetts, and Washington.
                Please note that it may take a few days before a purchase appears in your @Html.ActionLink("transaction history", "History", "Account").
                If you believe you did not receive Earn Credits due, please @Html.ActionLink("contact us", "Support", "Account") and provide the place and date of purchase, along with the last 4 digits of your credit/debit card.
                In some cases, Shell transactions may not show up in your Pending transactions at all, but should show up in your Confirmed transactions within a few days.
            </p>
        </div>
        <div class="clear"></div>
    </section>
}