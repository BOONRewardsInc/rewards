<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the MIT license. See LICENSE.txt file in the project root for full license information.
-->
<edmx:Edmx Version="3.0" xmlns:edmx="http://schemas.microsoft.com/ado/2009/11/edmx">
  <!-- EF Runtime content -->
  <edmx:Runtime>
    <!-- SSDL content -->
    <edmx:StorageModels>
      <Schema Namespace="CommerceModel.Store" Provider="System.Data.SqlClient" ProviderManifestToken="2012.Azure" Alias="Self" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" xmlns:customannotation="http://schemas.microsoft.com/ado/2013/11/edm/customannotation" xmlns="http://schemas.microsoft.com/ado/2009/11/edm/ssdl">
        <EntityType Name="ARCHIVE_PartnerCards">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="CardId" />
          </Key>
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="PartnerCardId" Type="varchar" MaxLength="255" Nullable="false" />
          <Property Name="CardId" Type="int" Nullable="false" />
          <Property Name="PartnerCardSuffix" Type="char" MaxLength="2" Nullable="false" />
        </EntityType>
        <EntityType Name="ARCHIVE_PartnerUsers">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="UserId" />
          </Key>
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="PartnerUserId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="UserId" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="Authorizations">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="TransactionId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="TransactionDate" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="TransactionAmount" Type="int" Nullable="false" />
          <Property Name="ClaimedDealId" Type="bigint" Nullable="false" />
          <Property Name="DiscountAmount" Type="int" Nullable="false" />
          <Property Name="PartnerData" Type="xml" />
          <Property Name="DateAdded" Type="datetime" Nullable="false" />
          <Property Name="TransactionScopeId" Type="nvarchar" MaxLength="255" />
          <Property Name="PermaPending" Type="bit" Nullable="false" />
          <Property Name="ReviewStatusId" Type="int" Nullable="false" />
          <Property Name="MerchantNameId" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="CardBrands">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="25" Nullable="false" />
        </EntityType>
        <EntityType Name="Cards">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="UserId" Type="int" Nullable="false" />
          <Property Name="LastFourDigits" Type="char" MaxLength="4" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
          <Property Name="CardBrand" Type="int" Nullable="false" />
          <Property Name="Flags" Type="int" Nullable="false" />
          <Property Name="PartnerToken" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="FDCToken" Type="varchar" MaxLength="100" Nullable="false" />
        </EntityType>
        <EntityType Name="ClaimedDealBatches">
          <Key>
            <PropertyRef Name="CardId" />
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="DealBatchId" />
          </Key>
          <Property Name="CardId" Type="int" Nullable="false" />
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="DealBatchId" Type="int" Nullable="false" />
          <Property Name="StartDate" Type="datetime" Nullable="false" />
          <Property Name="EndDate" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="CreditStatus">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="25" Nullable="false" />
        </EntityType>
        <EntityType Name="DealBatchDetails">
          <Key>
            <PropertyRef Name="DealBatchId" />
            <PropertyRef Name="DealId" />
          </Key>
          <Property Name="DealBatchId" Type="int" Nullable="false" />
          <Property Name="DealId" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="DealBatches">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="SumOfIds" Type="bigint" Nullable="false" />
          <Property Name="Count" Type="int" Nullable="false" />
          <Property Name="RegisteredDate" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="DealPartnerMerchantIds">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="PartnerMerchantId" />
            <PropertyRef Name="DealId" />
          </Key>
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="DealId" Type="int" Nullable="false" />
          <Property Name="PartnerMerchantIdTypeId" Type="int" Nullable="false" />
          <Property Name="MerchantTimeZoneId" Type="varchar" MaxLength="100" />
        </EntityType>
        <EntityType Name="Deals">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="GlobalId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="MerchantId" Type="varchar" MaxLength="100" />
          <Property Name="StartDate" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="EndDate" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="Currency" Type="varchar" MaxLength="5" Nullable="false" />
          <Property Name="Amount" Type="int" Nullable="false" />
          <Property Name="Percent" Type="smallmoney" Nullable="false" />
          <Property Name="MinimumPurchase" Type="int" Nullable="false" />
          <Property Name="Count" Type="int" Nullable="false" />
          <Property Name="UserLimit" Type="int" Nullable="false" />
          <Property Name="DiscountSummary" Type="nvarchar" MaxLength="100" />
          <Property Name="MaximumDiscount" Type="int" Nullable="false" />
          <Property Name="ParentDealId" Type="uniqueidentifier" />
          <Property Name="DateIngestedUtc" Type="datetime" />
          <Property Name="DealStatusId" Type="int" Nullable="false" />
          <Property Name="MerchantNameId" Type="int" />
          <Property Name="DayTimeRestrictions" Type="xml" />
          <Property Name="ReimbursementTenderId" Type="int" Nullable="false" />
          <Property Name="ProviderId" Type="varchar" MaxLength="100" />
        </EntityType>
        <EntityType Name="DealStatus">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="25" Nullable="false" />
        </EntityType>
        <EntityType Name="EventLog">
          <Key>
            <PropertyRef Name="EventID" />
          </Key>
          <Property Name="EventID" Type="bigint" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="LocalDate" Type="datetime" StoreGeneratedPattern="Computed" />
          <Property Name="Process" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Status" Type="varchar" MaxLength="10" Nullable="false" />
          <Property Name="Mode" Type="varchar" MaxLength="100" />
          <Property Name="Action" Type="varchar" MaxLength="20" />
          <Property Name="Target" Type="varchar" MaxLength="100" />
          <Property Name="Rows" Type="bigint" />
          <Property Name="Milliseconds" Type="int" />
          <Property Name="EventText" Type="nvarchar" MaxLength="3500" />
          <Property Name="EventDate" Type="datetime" Nullable="false" />
          <Property Name="ParentEventID" Type="bigint" />
          <Property Name="SPID" Type="smallint" Nullable="false" />
          <Property Name="UserName" Type="varchar" MaxLength="64" Nullable="false" />
          <Property Name="HostName" Type="varchar" MaxLength="64" Nullable="false" />
        </EntityType>
        <EntityType Name="MerchantNames">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="100" Nullable="false" />
        </EntityType>
        <EntityType Name="Merchants">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="GlobalID" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="ProviderId" Type="int" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="MSSVDistributions">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="DistributionDateUtc" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="UserId" Type="int" Nullable="false" />
          <Property Name="Amount" Type="int" Nullable="false" />
          <Property Name="Currency" Type="varchar" MaxLength="5" Nullable="false" />
          <Property Name="VoucherExpirationUtc" Type="datetime" Nullable="false" />
          <Property Name="Notes" Type="nvarchar" MaxLength="500" />
        </EntityType>
        <EntityType Name="Offers">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="GlobalID" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ProviderId" Type="int" Nullable="false" />
          <Property Name="OfferType" Type="int" Nullable="false" />
          <Property Name="PercentBack" Type="money" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="Parameters">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Date" Type="datetime" />
          <Property Name="Number" Type="float" />
          <Property Name="Char" Type="varchar" MaxLength="255" />
          <Property Name="UpdatedDate" Type="datetime" />
          <Property Name="UpdatedBy" Type="nvarchar" MaxLength="255" />
        </EntityType>
        <EntityType Name="PartnerCardFilters">
          <Key>
            <PropertyRef Name="PartnerCardId" />
          </Key>
          <Property Name="PartnerCardId" Type="varchar" MaxLength="255" Nullable="false" />
          <Property Name="DateFiltered" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerDealRegistrationStatus">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerDeals">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="DealId" />
          </Key>
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="PartnerDealId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="DealId" Type="int" Nullable="false" />
          <Property Name="PartnerDealRegistrationStatusId" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerMerchantAuthorizationIDs">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="MerchantId" Type="int" Nullable="false" />
          <Property Name="Partner" Type="int" Nullable="false" />
          <Property Name="AuthorizationID" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerMerchantIdTypes">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerMerchantSettlementIDs">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="MerchantId" Type="int" Nullable="false" />
          <Property Name="Partner" Type="int" Nullable="false" />
          <Property Name="SettlementID" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerRedeemedDeals">
          <Key>
            <PropertyRef Name="TransactionReferenceNumber" />
          </Key>
          <Property Name="TransactionReferenceNumber" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="RedeemedDealId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="PartnerRedeemedDealId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="PartnerReferenceNumber" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="RecommendedPartnerDealId" Type="nvarchar" MaxLength="255" />
          <Property Name="RecommendedPartnerClaimedDealId" Type="nvarchar" MaxLength="255" />
          <Property Name="PartnerData" Type="xml" />
          <Property Name="PartnerRedeemedDealScopeId" Type="nvarchar" MaxLength="255" />
        </EntityType>
        <EntityType Name="Partners">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="PartnerUserIDs">
          <Key>
            <PropertyRef Name="UserId" />
            <PropertyRef Name="Partner" />
            <PropertyRef Name="PartnerUserID" />
          </Key>
          <Property Name="UserId" Type="int" Nullable="false" />
          <Property Name="Partner" Type="int" Nullable="false" />
          <Property Name="PartnerUserID" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="PayeeTypes">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="Providers">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="GlobalID" Type="varchar" MaxLength="100" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <EntityType Name="RedeemedDeals">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ClaimedDealId" Type="bigint" Nullable="false" />
          <Property Name="RedemptionEventId" Type="int" Nullable="false" />
          <Property Name="PurchaseDateTime" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="AuthorizationAmount" Type="int" Nullable="false" />
          <Property Name="Currency" Type="varchar" MaxLength="5" Nullable="false" />
          <Property Name="Reversed" Type="bit" Nullable="false" />
          <Property Name="CreditStatusId" Type="int" Nullable="false" />
          <Property Name="DiscountAmount" Type="int" Nullable="false" />
          <Property Name="SettlementAmount" Type="int" Nullable="false" />
          <Property Name="AnalyticsRedemptionEventId" Type="uniqueidentifier" />
          <Property Name="AnalyticsSettlementEventId" Type="uniqueidentifier" />
          <Property Name="DateAdded" Type="datetime" />
          <Property Name="DateSettled" Type="datetime" />
          <Property Name="DateCreditApproved" Type="datetime" />
          <Property Name="LastUpdatedDateUtc" Type="datetime" />
          <Property Name="PermaPending" Type="bit" Nullable="false" />
          <Property Name="ReviewStatusId" Type="int" Nullable="false" />
          <Property Name="MerchantNameId" Type="int" Nullable="false" />
          <Property Name="UtcReachedTerminalState" Type="datetime" />
        </EntityType>
        <EntityType Name="RedemptionEvents">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="25" Nullable="false" />
        </EntityType>
        <EntityType Name="ReferralEventRewards">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ReferralTypeId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ReferralEventId" Type="int" Nullable="false" />
          <Property Name="RewardId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="PerUserLimit" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="ReferralEvents">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="Referrals">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ReferralEventRewardId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="RewardPayoutId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ReferralDateUtc" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="ReferredUserId" Type="nvarchar" MaxLength="100" Nullable="false" />
        </EntityType>
        <EntityType Name="ReferralTypes">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="Sequence" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Code" Type="nvarchar" MaxLength="255" />
          <Property Name="ReferrerId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="ReferrerTypeId" Type="int" Nullable="false" />
          <Property Name="ReferralVectorId" Type="int" Nullable="false" />
          <Property Name="RewardRecipientId" Type="int" Nullable="false" />
          <Property Name="CreatedDateUtc" Type="datetime2" Precision="7" Nullable="false" />
        </EntityType>
        <EntityType Name="ReferralVectors">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="ReferrerTypes">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="ReimbursementTender">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="25" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardPayouts">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="RewardId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="RewardReasonId" Type="int" Nullable="false" />
          <Property Name="PayeeId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="PayeeTypeId" Type="int" Nullable="false" />
          <Property Name="RewardPayoutStatusId" Type="int" Nullable="false" />
          <Property Name="PayoutScheduledDateUtc" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="PayoutFinalizedDateUtc" Type="datetime2" Precision="7" />
          <Property Name="AgentId" Type="nvarchar" MaxLength="100" />
          <Property Name="AgentTypeId" Type="int" />
          <Property Name="Amount" Type="int" Nullable="false" />
          <Property Name="Explanation" Type="nvarchar" MaxLength="100" />
          <Property Name="IssuedBy" Type="varchar" MaxLength="100" />
        </EntityType>
        <EntityType Name="RewardPayoutStatus">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardProgram">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" Nullable="false" />
          <Property Name="ProgramName" Type="nvarchar" MaxLength="100" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardProgramReimbursementTenderIds">
          <Key>
            <PropertyRef Name="RewardProgramId" />
            <PropertyRef Name="ReimbursementTenderId" />
          </Key>
          <Property Name="RewardProgramId" Type="int" Nullable="false" />
          <Property Name="ReimbursementTenderId" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardReasons">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardRecipients">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="Rewards">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="uniqueidentifier" Nullable="false" />
          <Property Name="RewardTypeId" Type="int" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Active" Type="bit" Nullable="false" />
          <Property Name="Properties" Type="nvarchar(max)" Nullable="false" />
        </EntityType>
        <EntityType Name="RewardTypes">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="Sequences">
          <Key>
            <PropertyRef Name="SequenceName" />
          </Key>
          <Property Name="SequenceName" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Seed" Type="int" Nullable="false" />
          <Property Name="Increment" Type="int" Nullable="false" />
          <Property Name="CurrentValue" Type="int" />
        </EntityType>
        <EntityType Name="TrackedRedemptionRewards">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="RedeemedDealId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="RewardPayoutId" Type="uniqueidentifier" Nullable="false" />
        </EntityType>
        <EntityType Name="TransactionLinks">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="bigint" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="DealId" Type="int" Nullable="false" />
          <Property Name="UserId" Type="int" Nullable="false" />
          <Property Name="CardId" Type="int" Nullable="false" />
          <Property Name="PartnerId" Type="int" Nullable="false" />
          <Property Name="PartnerClaimedDealId" Type="nvarchar" MaxLength="255" />
          <Property Name="DateAdded" Type="datetime" />
        </EntityType>
        <EntityType Name="TransactionReviewStatus">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="50" Nullable="false" />
        </EntityType>
        <EntityType Name="Users">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="GlobalId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="UtcAdded" Type="datetime" Nullable="false" />
          <Property Name="UtcUpdated" Type="datetime" Nullable="false" />
        </EntityType>
        <!--Errors Found During Generation:
warning 6002: The table/view 'Commerce.dbo.RedemptionReport' does not have a primary key defined. The key has been inferred and the definition was created as a read-only table/view.-->
        <EntityType Name="RedemptionReport">
          <Key>
            <PropertyRef Name="TransactionId" />
            <PropertyRef Name="PartnerName" />
            <PropertyRef Name="PartnerMerchantId" />
            <PropertyRef Name="CardBrand" />
            <PropertyRef Name="LastFourDigits" />
            <PropertyRef Name="DiscountId" />
            <PropertyRef Name="GlobalDiscountId" />
            <PropertyRef Name="AuthorizationDateTimeLocal" />
            <PropertyRef Name="Currency" />
            <PropertyRef Name="AuthorizationAmount" />
            <PropertyRef Name="SettlementAmount" />
            <PropertyRef Name="DiscountAmount" />
            <PropertyRef Name="CurrentState" />
            <PropertyRef Name="GlobalUserID" />
          </Key>
          <Property Name="TransactionId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="PartnerName" Type="nvarchar" MaxLength="50" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="CardBrand" Type="nvarchar" MaxLength="25" Nullable="false" />
          <Property Name="LastFourDigits" Type="char" MaxLength="4" Nullable="false" />
          <Property Name="DealId" Type="uniqueidentifier" />
          <Property Name="DiscountId" Type="int" Nullable="false" />
          <Property Name="GlobalDiscountId" Type="uniqueidentifier" Nullable="false" />
          <Property Name="AuthorizationDateTimeLocal" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="AuthorizationDateTimeUtc" Type="datetime" />
          <Property Name="SettlementDate" Type="datetime" />
          <Property Name="CreditApprovalDateTimeUtc" Type="datetime" />
          <Property Name="Currency" Type="varchar" MaxLength="5" Nullable="false" />
          <Property Name="AuthorizationAmount" Type="int" Nullable="false" />
          <Property Name="SettlementAmount" Type="int" Nullable="false" />
          <Property Name="DiscountAmount" Type="int" Nullable="false" />
          <Property Name="CreditStatus" Type="varchar" MaxLength="100" />
          <Property Name="CurrentState" Type="varchar" MaxLength="9" Nullable="false" />
          <Property Name="LastUpdatedDateUtc" Type="datetime" />
          <Property Name="UtcReachedTerminalState" Type="datetime" />
          <Property Name="GlobalUserID" Type="uniqueidentifier" Nullable="false" />
        </EntityType>
        <Association Name="CardUser">
          <End Role="Users" Type="Self.Users" Multiplicity="1" />
          <End Role="Cards" Type="Self.Cards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Cards">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_ClaimedDealId_ClaimedDeals_Id">
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorizations" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionLinks">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="ClaimedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_MerchantNameId_MerchantNames_Id">
          <End Role="MerchantNames" Type="Self.MerchantNames" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorizations" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="MerchantNames">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="MerchantNameId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorizations" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Cards" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatches" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_DealBatchId_DealBatches_Id">
          <End Role="DealBatches" Type="Self.DealBatches" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatches" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DealBatches">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="DealBatchId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_PartnerId_Partners_id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatches" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealBatchDetails_DealBatchId_DealsBatches_Id">
          <End Role="DealBatches" Type="Self.DealBatches" Multiplicity="1" />
          <End Role="DealBatchDetails" Type="Self.DealBatchDetails" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DealBatches">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealBatchDetails">
              <PropertyRef Name="DealBatchId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealBatchDetails_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deals" Multiplicity="1" />
          <End Role="DealBatchDetails" Type="Self.DealBatchDetails" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealBatchDetails">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deals" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantIds" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantIds" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id">
          <End Role="PartnerMerchantIdTypes" Type="Self.PartnerMerchantIdTypes" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantIds" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PartnerMerchantIdTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="PartnerMerchantIdTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Deals_DealStatusId_DealStatus_Id">
          <End Role="DealStatus" Type="Self.DealStatus" Multiplicity="1" />
          <End Role="Deals" Type="Self.Deals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DealStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Deals">
              <PropertyRef Name="DealStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Deals_MerchantNameId_MerchantNames_Id">
          <End Role="MerchantNames" Type="Self.MerchantNames" Multiplicity="0..1" />
          <End Role="Deals" Type="Self.Deals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="MerchantNames">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Deals">
              <PropertyRef Name="MerchantNameId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerCards_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Cards" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerCards" Type="Self.ARCHIVE_PartnerCards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerCards">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerCards_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerCards" Type="Self.ARCHIVE_PartnerCards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerCards">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deals" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id">
          <End Role="PartnerDealRegistrationStatus" Type="Self.PartnerDealRegistrationStatus" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PartnerDealRegistrationStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="PartnerDealRegistrationStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerRedeemedDeals_RedeemedDeals">
          <End Role="RedeemedDeals" Type="Self.RedeemedDeals" Multiplicity="1" />
          <End Role="PartnerRedeemedDeals" Type="Self.PartnerRedeemedDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedeemedDeals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerRedeemedDeals">
              <PropertyRef Name="RedeemedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerUsers_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerUsers" Type="Self.ARCHIVE_PartnerUsers" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerUsers">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerUsers_UserId_Users_Id">
          <End Role="Users" Type="Self.Users" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerUsers" Type="Self.ARCHIVE_PartnerUsers" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerUsers">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id">
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="1" />
          <End Role="RedeemedDeals" Type="Self.RedeemedDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionLinks">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RedeemedDeals">
              <PropertyRef Name="ClaimedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id">
          <End Role="RedemptionEvents" Type="Self.RedemptionEvents" Multiplicity="1" />
          <End Role="RedeemedDeals" Type="Self.RedeemedDeals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedemptionEvents">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RedeemedDeals">
              <PropertyRef Name="RedemptionEventId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Referral_ReferralEventReward">
          <End Role="ReferralEventRewards" Type="Self.ReferralEventRewards" Multiplicity="1" />
          <End Role="Referrals" Type="Self.Referrals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralEventRewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Referrals">
              <PropertyRef Name="ReferralEventRewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Referral_RewardPayouts">
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="1" />
          <End Role="Referrals" Type="Self.Referrals" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayouts">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Referrals">
              <PropertyRef Name="RewardPayoutId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_ReferralEventId">
          <End Role="ReferralEvents" Type="Self.ReferralEvents" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventRewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralEvents">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="ReferralEventId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_ReferralTypeId">
          <End Role="ReferralTypes" Type="Self.ReferralTypes" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventRewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="ReferralTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_RewardId">
          <End Role="Rewards" Type="Self.Rewards" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventRewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Rewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="RewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_ReferralVector">
          <End Role="ReferralVectors" Type="Self.ReferralVectors" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralTypes" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralVectors">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="ReferralVectorId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_ReferrerType">
          <End Role="ReferrerTypes" Type="Self.ReferrerTypes" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralTypes" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferrerTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="ReferrerTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_RewardRecipient">
          <End Role="RewardRecipients" Type="Self.RewardRecipients" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralTypes" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardRecipients">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="RewardRecipientId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_PayeeType">
          <End Role="PayeeTypes" Type="Self.PayeeTypes" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PayeeTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="PayeeTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_Reward">
          <End Role="Rewards" Type="Self.Rewards" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Rewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_RewardPayoutStatus">
          <End Role="RewardPayoutStatus" Type="Self.RewardPayoutStatus" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayoutStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardPayoutStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_RewardReason">
          <End Role="RewardReasons" Type="Self.RewardReasons" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardReasons">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardReasonId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardProgramReimbursementTenderIds_ReimbursementTenderId_ReimbursementTender_Id">
          <End Role="ReimbursementTender" Type="Self.ReimbursementTender" Multiplicity="1" />
          <End Role="RewardProgramReimbursementTenderIds" Type="Self.RewardProgramReimbursementTenderIds" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReimbursementTender">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardProgramReimbursementTenderIds">
              <PropertyRef Name="ReimbursementTenderId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardProgramReimbursementTenderIds_RewardProgramId_RewardProgram_Id">
          <End Role="RewardProgram" Type="Self.RewardProgram" Multiplicity="1" />
          <End Role="RewardProgramReimbursementTenderIds" Type="Self.RewardProgramReimbursementTenderIds" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardProgram">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardProgramReimbursementTenderIds">
              <PropertyRef Name="RewardProgramId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Rewards_RewardType">
          <End Role="RewardTypes" Type="Self.RewardTypes" Multiplicity="1" />
          <End Role="Rewards" Type="Self.Rewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Rewards">
              <PropertyRef Name="RewardTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TrackedRedemptionRewards_RedeemedDeals">
          <End Role="RedeemedDeals" Type="Self.RedeemedDeals" Multiplicity="1" />
          <End Role="TrackedRedemptionRewards" Type="Self.TrackedRedemptionRewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedeemedDeals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TrackedRedemptionRewards">
              <PropertyRef Name="RedeemedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TrackedRedemptionRewards_RewardPayouts">
          <End Role="RewardPayouts" Type="Self.RewardPayouts" Multiplicity="1" />
          <End Role="TrackedRedemptionRewards" Type="Self.TrackedRedemptionRewards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayouts">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TrackedRedemptionRewards">
              <PropertyRef Name="RewardPayoutId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Cards" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deals" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_PartnerId_Partners_id">
          <End Role="Partners" Type="Self.Partners" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_UserId_Users_Id">
          <End Role="Users" Type="Self.Users" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLinks" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="MerchantProvider">
          <End Role="Providers" Type="Self.Providers" Multiplicity="1" />
          <End Role="Merchants" Type="Self.Merchants" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Providers">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Merchants">
              <PropertyRef Name="ProviderId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="OfferProvider">
          <End Role="Providers" Type="Self.Providers" Multiplicity="1" />
          <End Role="Offers" Type="Self.Offers" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Providers">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Offers">
              <PropertyRef Name="ProviderId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerMerchantAuthorizationIDsMerchant">
          <End Role="Merchants" Type="Self.Merchants" Multiplicity="1" />
          <End Role="PartnerMerchantAuthorizationIDs" Type="Self.PartnerMerchantAuthorizationIDs" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Merchants">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerMerchantAuthorizationIDs">
              <PropertyRef Name="MerchantId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerMerchantSettlementIDsMerchant">
          <End Role="Merchants" Type="Self.Merchants" Multiplicity="1" />
          <End Role="PartnerMerchantSettlementIDs" Type="Self.PartnerMerchantSettlementIDs" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Merchants">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerMerchantSettlementIDs">
              <PropertyRef Name="MerchantId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerUserIDsUsers">
          <End Role="Users" Type="Self.Users" Multiplicity="1" />
          <End Role="PartnerUserIDs" Type="Self.PartnerUserIDs" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerUserIDs">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <EntityContainer Name="CommerceModelStoreContainer">
          <EntitySet Name="ARCHIVE_PartnerCards" EntityType="Self.ARCHIVE_PartnerCards" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ARCHIVE_PartnerUsers" EntityType="Self.ARCHIVE_PartnerUsers" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Authorizations" EntityType="Self.Authorizations" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="CardBrands" EntityType="Self.CardBrands" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Cards" EntityType="Self.Cards" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ClaimedDealBatches" EntityType="Self.ClaimedDealBatches" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="CreditStatus" EntityType="Self.CreditStatus" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="DealBatchDetails" EntityType="Self.DealBatchDetails" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="DealBatches" EntityType="Self.DealBatches" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="DealPartnerMerchantIds" EntityType="Self.DealPartnerMerchantIds" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Deals" EntityType="Self.Deals" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="DealStatus" EntityType="Self.DealStatus" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="EventLog" EntityType="Self.EventLog" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="MerchantNames" EntityType="Self.MerchantNames" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Merchants" EntityType="Self.Merchants" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="MSSVDistributions" EntityType="Self.MSSVDistributions" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Offers" EntityType="Self.Offers" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Parameters" EntityType="Self.Parameters" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerCardFilters" EntityType="Self.PartnerCardFilters" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerDealRegistrationStatus" EntityType="Self.PartnerDealRegistrationStatus" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerDeals" EntityType="Self.PartnerDeals" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerMerchantAuthorizationIDs" EntityType="Self.PartnerMerchantAuthorizationIDs" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerMerchantIdTypes" EntityType="Self.PartnerMerchantIdTypes" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerMerchantSettlementIDs" EntityType="Self.PartnerMerchantSettlementIDs" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerRedeemedDeals" EntityType="Self.PartnerRedeemedDeals" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Partners" EntityType="Self.Partners" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PartnerUserIDs" EntityType="Self.PartnerUserIDs" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="PayeeTypes" EntityType="Self.PayeeTypes" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Providers" EntityType="Self.Providers" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RedeemedDeals" EntityType="Self.RedeemedDeals" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RedemptionEvents" EntityType="Self.RedemptionEvents" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReferralEventRewards" EntityType="Self.ReferralEventRewards" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReferralEvents" EntityType="Self.ReferralEvents" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Referrals" EntityType="Self.Referrals" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReferralTypes" EntityType="Self.ReferralTypes" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReferralVectors" EntityType="Self.ReferralVectors" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReferrerTypes" EntityType="Self.ReferrerTypes" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="ReimbursementTender" EntityType="Self.ReimbursementTender" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardPayouts" EntityType="Self.RewardPayouts" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardPayoutStatus" EntityType="Self.RewardPayoutStatus" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardProgram" EntityType="Self.RewardProgram" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardProgramReimbursementTenderIds" EntityType="Self.RewardProgramReimbursementTenderIds" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardReasons" EntityType="Self.RewardReasons" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardRecipients" EntityType="Self.RewardRecipients" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Rewards" EntityType="Self.Rewards" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RewardTypes" EntityType="Self.RewardTypes" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Sequences" EntityType="Self.Sequences" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="TrackedRedemptionRewards" EntityType="Self.TrackedRedemptionRewards" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="TransactionLinks" EntityType="Self.TransactionLinks" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="TransactionReviewStatus" EntityType="Self.TransactionReviewStatus" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="Users" EntityType="Self.Users" Schema="dbo" store:Type="Tables" />
          <EntitySet Name="RedemptionReport" EntityType="Self.RedemptionReport" store:Type="Views" store:Schema="dbo">
            <DefiningQuery>SELECT 
    [RedemptionReport].[TransactionId] AS [TransactionId], 
    [RedemptionReport].[PartnerName] AS [PartnerName], 
    [RedemptionReport].[PartnerMerchantId] AS [PartnerMerchantId], 
    [RedemptionReport].[CardBrand] AS [CardBrand], 
    [RedemptionReport].[LastFourDigits] AS [LastFourDigits], 
    [RedemptionReport].[DealId] AS [DealId], 
    [RedemptionReport].[DiscountId] AS [DiscountId], 
    [RedemptionReport].[GlobalDiscountId] AS [GlobalDiscountId], 
    [RedemptionReport].[AuthorizationDateTimeLocal] AS [AuthorizationDateTimeLocal], 
    [RedemptionReport].[AuthorizationDateTimeUtc] AS [AuthorizationDateTimeUtc], 
    [RedemptionReport].[SettlementDate] AS [SettlementDate], 
    [RedemptionReport].[CreditApprovalDateTimeUtc] AS [CreditApprovalDateTimeUtc], 
    [RedemptionReport].[Currency] AS [Currency], 
    [RedemptionReport].[AuthorizationAmount] AS [AuthorizationAmount], 
    [RedemptionReport].[SettlementAmount] AS [SettlementAmount], 
    [RedemptionReport].[DiscountAmount] AS [DiscountAmount], 
    [RedemptionReport].[CreditStatus] AS [CreditStatus], 
    [RedemptionReport].[CurrentState] AS [CurrentState], 
    [RedemptionReport].[LastUpdatedDateUtc] AS [LastUpdatedDateUtc], 
    [RedemptionReport].[UtcReachedTerminalState] AS [UtcReachedTerminalState], 
    [RedemptionReport].[GlobalUserID] AS [GlobalUserID]
    FROM [dbo].[RedemptionReport] AS [RedemptionReport]</DefiningQuery>
          </EntitySet>
          <AssociationSet Name="CardUser" Association="Self.CardUser">
            <End Role="Users" EntitySet="Users" />
            <End Role="Cards" EntitySet="Cards" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_ClaimedDealId_ClaimedDeals_Id" Association="Self.FK_Authorizations_ClaimedDealId_ClaimedDeals_Id">
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_MerchantNameId_MerchantNames_Id" Association="Self.FK_Authorizations_MerchantNameId_MerchantNames_Id">
            <End Role="MerchantNames" EntitySet="MerchantNames" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_PartnerId_Partners_Id" Association="Self.FK_Authorizations_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_CardId_Cards_Id" Association="Self.FK_ClaimedDealBatches_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_DealBatchId_DealBatches_Id" Association="Self.FK_ClaimedDealBatches_DealBatchId_DealBatches_Id">
            <End Role="DealBatches" EntitySet="DealBatches" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_PartnerId_Partners_id" Association="Self.FK_ClaimedDealBatches_PartnerId_Partners_id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_DealBatchDetails_DealBatchId_DealsBatches_Id" Association="Self.FK_DealBatchDetails_DealBatchId_DealsBatches_Id">
            <End Role="DealBatches" EntitySet="DealBatches" />
            <End Role="DealBatchDetails" EntitySet="DealBatchDetails" />
          </AssociationSet>
          <AssociationSet Name="FK_DealBatchDetails_DealId_Deals_Id" Association="Self.FK_DealBatchDetails_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="DealBatchDetails" EntitySet="DealBatchDetails" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_DealId_Deals_Id" Association="Self.FK_DealPartnerMerchantIds_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_PartnerId_Partners_Id" Association="Self.FK_DealPartnerMerchantIds_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id" Association="Self.FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id">
            <End Role="PartnerMerchantIdTypes" EntitySet="PartnerMerchantIdTypes" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_Deals_DealStatusId_DealStatus_Id" Association="Self.FK_Deals_DealStatusId_DealStatus_Id">
            <End Role="DealStatus" EntitySet="DealStatus" />
            <End Role="Deals" EntitySet="Deals" />
          </AssociationSet>
          <AssociationSet Name="FK_Deals_MerchantNameId_MerchantNames_Id" Association="Self.FK_Deals_MerchantNameId_MerchantNames_Id">
            <End Role="MerchantNames" EntitySet="MerchantNames" />
            <End Role="Deals" EntitySet="Deals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerCards_CardId_Cards_Id" Association="Self.FK_PartnerCards_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="ARCHIVE_PartnerCards" EntitySet="ARCHIVE_PartnerCards" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerCards_PartnerId_Partners_Id" Association="Self.FK_PartnerCards_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ARCHIVE_PartnerCards" EntitySet="ARCHIVE_PartnerCards" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_DealId_Deals_Id" Association="Self.FK_PartnerDeals_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id" Association="Self.FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id">
            <End Role="PartnerDealRegistrationStatus" EntitySet="PartnerDealRegistrationStatus" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_PartnerId_Partners_Id" Association="Self.FK_PartnerDeals_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerRedeemedDeals_RedeemedDeals" Association="Self.FK_PartnerRedeemedDeals_RedeemedDeals">
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
            <End Role="PartnerRedeemedDeals" EntitySet="PartnerRedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerUsers_PartnerId_Partners_Id" Association="Self.FK_PartnerUsers_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ARCHIVE_PartnerUsers" EntitySet="ARCHIVE_PartnerUsers" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerUsers_UserId_Users_Id" Association="Self.FK_PartnerUsers_UserId_Users_Id">
            <End Role="Users" EntitySet="Users" />
            <End Role="ARCHIVE_PartnerUsers" EntitySet="ARCHIVE_PartnerUsers" />
          </AssociationSet>
          <AssociationSet Name="FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id" Association="Self.FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id">
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id" Association="Self.FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id">
            <End Role="RedemptionEvents" EntitySet="RedemptionEvents" />
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_Referral_ReferralEventReward" Association="Self.FK_Referral_ReferralEventReward">
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
            <End Role="Referrals" EntitySet="Referrals" />
          </AssociationSet>
          <AssociationSet Name="FK_Referral_RewardPayouts" Association="Self.FK_Referral_RewardPayouts">
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
            <End Role="Referrals" EntitySet="Referrals" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_ReferralEventId" Association="Self.FK_ReferralEventReward_ReferralEventId">
            <End Role="ReferralEvents" EntitySet="ReferralEvents" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_ReferralTypeId" Association="Self.FK_ReferralEventReward_ReferralTypeId">
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_RewardId" Association="Self.FK_ReferralEventReward_RewardId">
            <End Role="Rewards" EntitySet="Rewards" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_ReferralVector" Association="Self.FK_ReferralType_ReferralVector">
            <End Role="ReferralVectors" EntitySet="ReferralVectors" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_ReferrerType" Association="Self.FK_ReferralType_ReferrerType">
            <End Role="ReferrerTypes" EntitySet="ReferrerTypes" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_RewardRecipient" Association="Self.FK_ReferralType_RewardRecipient">
            <End Role="RewardRecipients" EntitySet="RewardRecipients" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_PayeeType" Association="Self.FK_RewardPayouts_PayeeType">
            <End Role="PayeeTypes" EntitySet="PayeeTypes" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_Reward" Association="Self.FK_RewardPayouts_Reward">
            <End Role="Rewards" EntitySet="Rewards" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_RewardPayoutStatus" Association="Self.FK_RewardPayouts_RewardPayoutStatus">
            <End Role="RewardPayoutStatus" EntitySet="RewardPayoutStatus" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_RewardReason" Association="Self.FK_RewardPayouts_RewardReason">
            <End Role="RewardReasons" EntitySet="RewardReasons" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardProgramReimbursementTenderIds_ReimbursementTenderId_ReimbursementTender_Id" Association="Self.FK_RewardProgramReimbursementTenderIds_ReimbursementTenderId_ReimbursementTender_Id">
            <End Role="ReimbursementTender" EntitySet="ReimbursementTender" />
            <End Role="RewardProgramReimbursementTenderIds" EntitySet="RewardProgramReimbursementTenderIds" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardProgramReimbursementTenderIds_RewardProgramId_RewardProgram_Id" Association="Self.FK_RewardProgramReimbursementTenderIds_RewardProgramId_RewardProgram_Id">
            <End Role="RewardProgram" EntitySet="RewardProgram" />
            <End Role="RewardProgramReimbursementTenderIds" EntitySet="RewardProgramReimbursementTenderIds" />
          </AssociationSet>
          <AssociationSet Name="FK_Rewards_RewardType" Association="Self.FK_Rewards_RewardType">
            <End Role="RewardTypes" EntitySet="RewardTypes" />
            <End Role="Rewards" EntitySet="Rewards" />
          </AssociationSet>
          <AssociationSet Name="FK_TrackedRedemptionRewards_RedeemedDeals" Association="Self.FK_TrackedRedemptionRewards_RedeemedDeals">
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
            <End Role="TrackedRedemptionRewards" EntitySet="TrackedRedemptionRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_TrackedRedemptionRewards_RewardPayouts" Association="Self.FK_TrackedRedemptionRewards_RewardPayouts">
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
            <End Role="TrackedRedemptionRewards" EntitySet="TrackedRedemptionRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_CardId_Cards_Id" Association="Self.FK_TransactionLinks_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_DealId_Deals_Id" Association="Self.FK_TransactionLinks_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_PartnerId_Partners_id" Association="Self.FK_TransactionLinks_PartnerId_Partners_id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_UserId_Users_Id" Association="Self.FK_TransactionLinks_UserId_Users_Id">
            <End Role="Users" EntitySet="Users" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="MerchantProvider" Association="Self.MerchantProvider">
            <End Role="Providers" EntitySet="Providers" />
            <End Role="Merchants" EntitySet="Merchants" />
          </AssociationSet>
          <AssociationSet Name="OfferProvider" Association="Self.OfferProvider">
            <End Role="Providers" EntitySet="Providers" />
            <End Role="Offers" EntitySet="Offers" />
          </AssociationSet>
          <AssociationSet Name="PartnerMerchantAuthorizationIDsMerchant" Association="Self.PartnerMerchantAuthorizationIDsMerchant">
            <End Role="Merchants" EntitySet="Merchants" />
            <End Role="PartnerMerchantAuthorizationIDs" EntitySet="PartnerMerchantAuthorizationIDs" />
          </AssociationSet>
          <AssociationSet Name="PartnerMerchantSettlementIDsMerchant" Association="Self.PartnerMerchantSettlementIDsMerchant">
            <End Role="Merchants" EntitySet="Merchants" />
            <End Role="PartnerMerchantSettlementIDs" EntitySet="PartnerMerchantSettlementIDs" />
          </AssociationSet>
          <AssociationSet Name="PartnerUserIDsUsers" Association="Self.PartnerUserIDsUsers">
            <End Role="Users" EntitySet="Users" />
            <End Role="PartnerUserIDs" EntitySet="PartnerUserIDs" />
          </AssociationSet>
        </EntityContainer>
      </Schema>
    </edmx:StorageModels>
    <!-- CSDL content -->
    <edmx:ConceptualModels>
      <Schema Namespace="CommerceModel" Alias="Self" annotation:UseStrongSpatialTypes="false" xmlns:annotation="http://schemas.microsoft.com/ado/2009/02/edm/annotation" xmlns:customannotation="http://schemas.microsoft.com/ado/2013/11/edm/customannotation" xmlns="http://schemas.microsoft.com/ado/2009/11/edm">
        <EntityType Name="ARCHIVE_PartnerCards">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="CardId" />
          </Key>
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="PartnerCardId" Type="String" MaxLength="255" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="CardId" Type="Int32" Nullable="false" />
          <Property Name="PartnerCardSuffix" Type="String" MaxLength="2" FixedLength="true" Unicode="false" Nullable="false" />
          <NavigationProperty Name="Card" Relationship="Self.FK_PartnerCards_CardId_Cards_Id" FromRole="ARCHIVE_PartnerCards" ToRole="Cards" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_PartnerCards_PartnerId_Partners_Id" FromRole="ARCHIVE_PartnerCards" ToRole="Partners" />
        </EntityType>
        <EntityType Name="ARCHIVE_PartnerUsers">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="UserId" />
          </Key>
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="PartnerUserId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="UserId" Type="Int32" Nullable="false" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_PartnerUsers_PartnerId_Partners_Id" FromRole="ARCHIVE_PartnerUsers" ToRole="Partners" />
          <NavigationProperty Name="User" Relationship="Self.FK_PartnerUsers_UserId_Users_Id" FromRole="ARCHIVE_PartnerUsers" ToRole="Users" />
        </EntityType>
        <EntityType Name="Authorization">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="TransactionId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="TransactionDate" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="TransactionAmount" Type="Int32" Nullable="false" />
          <Property Name="ClaimedDealId" Type="Int64" Nullable="false" />
          <Property Name="DiscountAmount" Type="Int32" Nullable="false" />
          <Property Name="PartnerData" Type="String" MaxLength="Max" FixedLength="false" Unicode="true" />
          <Property Name="DateAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="TransactionScopeId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="PermaPending" Type="Boolean" Nullable="false" />
          <Property Name="ReviewStatusId" Type="Int32" Nullable="false" />
          <Property Name="MerchantNameId" Type="Int32" Nullable="false" />
          <NavigationProperty Name="TransactionLink" Relationship="Self.FK_Authorizations_ClaimedDealId_ClaimedDeals_Id" FromRole="Authorizations" ToRole="TransactionLinks" />
          <NavigationProperty Name="MerchantName" Relationship="Self.FK_Authorizations_MerchantNameId_MerchantNames_Id" FromRole="Authorizations" ToRole="MerchantNames" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_Authorizations_PartnerId_Partners_Id" FromRole="Authorizations" ToRole="Partners" />
        </EntityType>
        <EntityType Name="CardBrand">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
        </EntityType>
        <EntityType Name="Card">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="UserId" Type="Int32" Nullable="false" />
          <Property Name="LastFourDigits" Type="String" MaxLength="4" FixedLength="true" Unicode="false" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="CardBrand" Type="Int32" Nullable="false" />
          <Property Name="Flags" Type="Int32" Nullable="false" />
          <Property Name="PartnerToken" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="FDCToken" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <NavigationProperty Name="ARCHIVE_PartnerCards" Relationship="Self.FK_PartnerCards_CardId_Cards_Id" FromRole="Cards" ToRole="ARCHIVE_PartnerCards" />
          <NavigationProperty Name="User" Relationship="Self.CardUser" FromRole="Cards" ToRole="Users" />
          <NavigationProperty Name="ClaimedDealBatches" Relationship="Self.FK_ClaimedDealBatches_CardId_Cards_Id" FromRole="Cards" ToRole="ClaimedDealBatches" />
          <NavigationProperty Name="TransactionLinks" Relationship="Self.FK_TransactionLinks_CardId_Cards_Id" FromRole="Cards" ToRole="TransactionLinks" />
        </EntityType>
        <EntityType Name="ClaimedDealBatch">
          <Key>
            <PropertyRef Name="CardId" />
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="DealBatchId" />
          </Key>
          <Property Name="CardId" Type="Int32" Nullable="false" />
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="DealBatchId" Type="Int32" Nullable="false" />
          <Property Name="StartDate" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="EndDate" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Card" Relationship="Self.FK_ClaimedDealBatches_CardId_Cards_Id" FromRole="ClaimedDealBatches" ToRole="Cards" />
          <NavigationProperty Name="DealBatch" Relationship="Self.FK_ClaimedDealBatches_DealBatchId_DealBatches_Id" FromRole="ClaimedDealBatches" ToRole="DealBatches" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_ClaimedDealBatches_PartnerId_Partners_id" FromRole="ClaimedDealBatches" ToRole="Partners" />
        </EntityType>
        <EntityType Name="CreditStatu">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
        </EntityType>
        <EntityType Name="DealBatch">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="SumOfIds" Type="Int64" Nullable="false" />
          <Property Name="Count" Type="Int32" Nullable="false" />
          <Property Name="RegisteredDate" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="ClaimedDealBatches" Relationship="Self.FK_ClaimedDealBatches_DealBatchId_DealBatches_Id" FromRole="DealBatches" ToRole="ClaimedDealBatches" />
          <NavigationProperty Name="Deals" Relationship="Self.DealBatchDetails" FromRole="DealBatches" ToRole="Deals" />
        </EntityType>
        <EntityType Name="DealPartnerMerchantId">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="PartnerMerchantId" />
            <PropertyRef Name="DealId" />
          </Key>
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="DealId" Type="Int32" Nullable="false" />
          <Property Name="PartnerMerchantIdTypeId" Type="Int32" Nullable="false" />
          <Property Name="MerchantTimeZoneId" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <NavigationProperty Name="Deal" Relationship="Self.FK_DealPartnerMerchantIds_DealId_Deals_Id" FromRole="DealPartnerMerchantIds" ToRole="Deals" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_DealPartnerMerchantIds_PartnerId_Partners_Id" FromRole="DealPartnerMerchantIds" ToRole="Partners" />
          <NavigationProperty Name="PartnerMerchantIdType" Relationship="Self.FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id" FromRole="DealPartnerMerchantIds" ToRole="PartnerMerchantIdTypes" />
        </EntityType>
        <EntityType Name="Deal">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="GlobalId" Type="Guid" Nullable="false" />
          <Property Name="MerchantId" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <Property Name="StartDate" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="EndDate" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="Currency" Type="String" MaxLength="5" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Amount" Type="Int32" Nullable="false" />
          <Property Name="Percent" Type="Decimal" Precision="10" Scale="4" Nullable="false" />
          <Property Name="MinimumPurchase" Type="Int32" Nullable="false" />
          <Property Name="Count" Type="Int32" Nullable="false" />
          <Property Name="UserLimit" Type="Int32" Nullable="false" />
          <Property Name="DiscountSummary" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="MaximumDiscount" Type="Int32" Nullable="false" />
          <Property Name="ParentDealId" Type="Guid" />
          <Property Name="DateIngestedUtc" Type="DateTime" Precision="3" />
          <Property Name="DealStatusId" Type="Int32" Nullable="false" />
          <Property Name="MerchantNameId" Type="Int32" />
          <Property Name="DayTimeRestrictions" Type="String" MaxLength="Max" FixedLength="false" Unicode="true" />
          <Property Name="ReimbursementTenderId" Type="Int32" Nullable="false" />
          <Property Name="ProviderId" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <NavigationProperty Name="DealPartnerMerchantIds" Relationship="Self.FK_DealPartnerMerchantIds_DealId_Deals_Id" FromRole="Deals" ToRole="DealPartnerMerchantIds" />
          <NavigationProperty Name="DealStatu" Relationship="Self.FK_Deals_DealStatusId_DealStatus_Id" FromRole="Deals" ToRole="DealStatus" />
          <NavigationProperty Name="MerchantName" Relationship="Self.FK_Deals_MerchantNameId_MerchantNames_Id" FromRole="Deals" ToRole="MerchantNames" />
          <NavigationProperty Name="PartnerDeals" Relationship="Self.FK_PartnerDeals_DealId_Deals_Id" FromRole="Deals" ToRole="PartnerDeals" />
          <NavigationProperty Name="TransactionLinks" Relationship="Self.FK_TransactionLinks_DealId_Deals_Id" FromRole="Deals" ToRole="TransactionLinks" />
          <NavigationProperty Name="DealBatches" Relationship="Self.DealBatchDetails" FromRole="Deals" ToRole="DealBatches" />
        </EntityType>
        <EntityType Name="DealStatu">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="Deals" Relationship="Self.FK_Deals_DealStatusId_DealStatus_Id" FromRole="DealStatus" ToRole="Deals" />
        </EntityType>
        <EntityType Name="EventLog">
          <Key>
            <PropertyRef Name="EventID" />
          </Key>
          <Property Name="EventID" Type="Int64" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="LocalDate" Type="DateTime" annotation:StoreGeneratedPattern="Computed" Precision="3" />
          <Property Name="Process" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Status" Type="String" MaxLength="10" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Mode" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <Property Name="Action" Type="String" MaxLength="20" FixedLength="false" Unicode="false" />
          <Property Name="Target" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <Property Name="Rows" Type="Int64" />
          <Property Name="Milliseconds" Type="Int32" />
          <Property Name="EventText" Type="String" MaxLength="3500" FixedLength="false" Unicode="true" />
          <Property Name="EventDate" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="ParentEventID" Type="Int64" />
          <Property Name="SPID" Type="Int16" Nullable="false" />
          <Property Name="UserName" Type="String" MaxLength="64" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="HostName" Type="String" MaxLength="64" FixedLength="false" Unicode="false" Nullable="false" />
        </EntityType>
        <EntityType Name="MerchantName">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="100" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="Authorizations" Relationship="Self.FK_Authorizations_MerchantNameId_MerchantNames_Id" FromRole="MerchantNames" ToRole="Authorizations" />
          <NavigationProperty Name="Deals" Relationship="Self.FK_Deals_MerchantNameId_MerchantNames_Id" FromRole="MerchantNames" ToRole="Deals" />
        </EntityType>
        <EntityType Name="Merchant">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="GlobalID" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Name" Type="String" MaxLength="100" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="ProviderId" Type="Int32" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Provider" Relationship="Self.MerchantProvider" FromRole="Merchants" ToRole="Providers" />
          <NavigationProperty Name="PartnerMerchantAuthorizationIDs" Relationship="Self.PartnerMerchantAuthorizationIDsMerchant" FromRole="Merchants" ToRole="PartnerMerchantAuthorizationIDs" />
          <NavigationProperty Name="PartnerMerchantSettlementIDs" Relationship="Self.PartnerMerchantSettlementIDsMerchant" FromRole="Merchants" ToRole="PartnerMerchantSettlementIDs" />
        </EntityType>
        <EntityType Name="MSSVDistribution">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="DistributionDateUtc" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="UserId" Type="Int32" Nullable="false" />
          <Property Name="Amount" Type="Int32" Nullable="false" />
          <Property Name="Currency" Type="String" MaxLength="5" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="VoucherExpirationUtc" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="Notes" Type="String" MaxLength="500" FixedLength="false" Unicode="true" />
        </EntityType>
        <EntityType Name="Offer">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="GlobalID" Type="Guid" Nullable="false" />
          <Property Name="ProviderId" Type="Int32" Nullable="false" />
          <Property Name="OfferType" Type="Int32" Nullable="false" />
          <Property Name="PercentBack" Type="Decimal" Precision="19" Scale="4" Nullable="false" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Provider" Relationship="Self.OfferProvider" FromRole="Offers" ToRole="Providers" />
        </EntityType>
        <EntityType Name="Parameter">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Date" Type="DateTime" Precision="3" />
          <Property Name="Number" Type="Double" />
          <Property Name="Char" Type="String" MaxLength="255" FixedLength="false" Unicode="false" />
          <Property Name="UpdatedDate" Type="DateTime" Precision="3" />
          <Property Name="UpdatedBy" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
        </EntityType>
        <EntityType Name="PartnerCardFilter">
          <Key>
            <PropertyRef Name="PartnerCardId" />
          </Key>
          <Property Name="PartnerCardId" Type="String" MaxLength="255" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="DateFiltered" Type="DateTime" Nullable="false" Precision="3" />
        </EntityType>
        <EntityType Name="PartnerDealRegistrationStatu">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="PartnerDeals" Relationship="Self.FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id" FromRole="PartnerDealRegistrationStatus" ToRole="PartnerDeals" />
        </EntityType>
        <EntityType Name="PartnerDeal">
          <Key>
            <PropertyRef Name="PartnerId" />
            <PropertyRef Name="DealId" />
          </Key>
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="PartnerDealId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="DealId" Type="Int32" Nullable="false" />
          <Property Name="PartnerDealRegistrationStatusId" Type="Int32" Nullable="false" />
          <NavigationProperty Name="Deal" Relationship="Self.FK_PartnerDeals_DealId_Deals_Id" FromRole="PartnerDeals" ToRole="Deals" />
          <NavigationProperty Name="PartnerDealRegistrationStatu" Relationship="Self.FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id" FromRole="PartnerDeals" ToRole="PartnerDealRegistrationStatus" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_PartnerDeals_PartnerId_Partners_Id" FromRole="PartnerDeals" ToRole="Partners" />
        </EntityType>
        <EntityType Name="PartnerMerchantAuthorizationID">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="MerchantId" Type="Int32" Nullable="false" />
          <Property Name="Partner" Type="Int32" Nullable="false" />
          <Property Name="AuthorizationID" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Merchant" Relationship="Self.PartnerMerchantAuthorizationIDsMerchant" FromRole="PartnerMerchantAuthorizationIDs" ToRole="Merchants" />
        </EntityType>
        <EntityType Name="PartnerMerchantIdType">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="DealPartnerMerchantIds" Relationship="Self.FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id" FromRole="PartnerMerchantIdTypes" ToRole="DealPartnerMerchantIds" />
        </EntityType>
        <EntityType Name="PartnerMerchantSettlementID">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="MerchantId" Type="Int32" Nullable="false" />
          <Property Name="Partner" Type="Int32" Nullable="false" />
          <Property Name="SettlementID" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Merchant" Relationship="Self.PartnerMerchantSettlementIDsMerchant" FromRole="PartnerMerchantSettlementIDs" ToRole="Merchants" />
        </EntityType>
        <EntityType Name="PartnerRedeemedDeal">
          <Key>
            <PropertyRef Name="TransactionReferenceNumber" />
          </Key>
          <Property Name="TransactionReferenceNumber" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="RedeemedDealId" Type="Guid" Nullable="false" />
          <Property Name="PartnerRedeemedDealId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="PartnerReferenceNumber" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="RecommendedPartnerDealId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="RecommendedPartnerClaimedDealId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="PartnerData" Type="String" MaxLength="Max" FixedLength="false" Unicode="true" />
          <Property Name="PartnerRedeemedDealScopeId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <NavigationProperty Name="RedeemedDeal" Relationship="Self.FK_PartnerRedeemedDeals_RedeemedDeals" FromRole="PartnerRedeemedDeals" ToRole="RedeemedDeals" />
        </EntityType>
        <EntityType Name="Partner">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ARCHIVE_PartnerCards" Relationship="Self.FK_PartnerCards_PartnerId_Partners_Id" FromRole="Partners" ToRole="ARCHIVE_PartnerCards" />
          <NavigationProperty Name="ARCHIVE_PartnerUsers" Relationship="Self.FK_PartnerUsers_PartnerId_Partners_Id" FromRole="Partners" ToRole="ARCHIVE_PartnerUsers" />
          <NavigationProperty Name="Authorizations" Relationship="Self.FK_Authorizations_PartnerId_Partners_Id" FromRole="Partners" ToRole="Authorizations" />
          <NavigationProperty Name="ClaimedDealBatches" Relationship="Self.FK_ClaimedDealBatches_PartnerId_Partners_id" FromRole="Partners" ToRole="ClaimedDealBatches" />
          <NavigationProperty Name="DealPartnerMerchantIds" Relationship="Self.FK_DealPartnerMerchantIds_PartnerId_Partners_Id" FromRole="Partners" ToRole="DealPartnerMerchantIds" />
          <NavigationProperty Name="PartnerDeals" Relationship="Self.FK_PartnerDeals_PartnerId_Partners_Id" FromRole="Partners" ToRole="PartnerDeals" />
          <NavigationProperty Name="TransactionLinks" Relationship="Self.FK_TransactionLinks_PartnerId_Partners_id" FromRole="Partners" ToRole="TransactionLinks" />
        </EntityType>
        <EntityType Name="PartnerUserID">
          <Key>
            <PropertyRef Name="UserId" />
            <PropertyRef Name="Partner" />
            <PropertyRef Name="PartnerUserID1" />
          </Key>
          <Property Name="UserId" Type="Int32" Nullable="false" />
          <Property Name="Partner" Type="Int32" Nullable="false" />
          <Property Name="PartnerUserID1" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="User" Relationship="Self.PartnerUserIDsUsers" FromRole="PartnerUserIDs" ToRole="Users" />
        </EntityType>
        <EntityType Name="PayeeType">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="RewardPayouts" Relationship="Self.FK_RewardPayouts_PayeeType" FromRole="PayeeTypes" ToRole="RewardPayouts" />
        </EntityType>
        <EntityType Name="Provider">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="GlobalID" Type="String" MaxLength="100" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Name" Type="String" MaxLength="100" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="Merchants" Relationship="Self.MerchantProvider" FromRole="Providers" ToRole="Merchants" />
          <NavigationProperty Name="Offers" Relationship="Self.OfferProvider" FromRole="Providers" ToRole="Offers" />
        </EntityType>
        <EntityType Name="RedeemedDeal">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="ClaimedDealId" Type="Int64" Nullable="false" />
          <Property Name="RedemptionEventId" Type="Int32" Nullable="false" />
          <Property Name="PurchaseDateTime" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="AuthorizationAmount" Type="Int32" Nullable="false" />
          <Property Name="Currency" Type="String" MaxLength="5" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="Reversed" Type="Boolean" Nullable="false" />
          <Property Name="CreditStatusId" Type="Int32" Nullable="false" />
          <Property Name="DiscountAmount" Type="Int32" Nullable="false" />
          <Property Name="SettlementAmount" Type="Int32" Nullable="false" />
          <Property Name="AnalyticsRedemptionEventId" Type="Guid" />
          <Property Name="AnalyticsSettlementEventId" Type="Guid" />
          <Property Name="DateAdded" Type="DateTime" Precision="3" />
          <Property Name="DateSettled" Type="DateTime" Precision="3" />
          <Property Name="DateCreditApproved" Type="DateTime" Precision="3" />
          <Property Name="LastUpdatedDateUtc" Type="DateTime" Precision="3" />
          <Property Name="PermaPending" Type="Boolean" Nullable="false" />
          <Property Name="ReviewStatusId" Type="Int32" Nullable="false" />
          <Property Name="MerchantNameId" Type="Int32" Nullable="false" />
          <Property Name="UtcReachedTerminalState" Type="DateTime" Precision="3" />
          <NavigationProperty Name="PartnerRedeemedDeals" Relationship="Self.FK_PartnerRedeemedDeals_RedeemedDeals" FromRole="RedeemedDeals" ToRole="PartnerRedeemedDeals" />
          <NavigationProperty Name="TransactionLink" Relationship="Self.FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id" FromRole="RedeemedDeals" ToRole="TransactionLinks" />
          <NavigationProperty Name="RedemptionEvent" Relationship="Self.FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id" FromRole="RedeemedDeals" ToRole="RedemptionEvents" />
          <NavigationProperty Name="TrackedRedemptionRewards" Relationship="Self.FK_TrackedRedemptionRewards_RedeemedDeals" FromRole="RedeemedDeals" ToRole="TrackedRedemptionRewards" />
        </EntityType>
        <EntityType Name="RedemptionEvent">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="RedeemedDeals" Relationship="Self.FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id" FromRole="RedemptionEvents" ToRole="RedeemedDeals" />
        </EntityType>
        <EntityType Name="ReferralEventReward">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="ReferralTypeId" Type="Guid" Nullable="false" />
          <Property Name="ReferralEventId" Type="Int32" Nullable="false" />
          <Property Name="RewardId" Type="Guid" Nullable="false" />
          <Property Name="PerUserLimit" Type="Int32" Nullable="false" />
          <NavigationProperty Name="Referrals" Relationship="Self.FK_Referral_ReferralEventReward" FromRole="ReferralEventRewards" ToRole="Referrals" />
          <NavigationProperty Name="ReferralEvent" Relationship="Self.FK_ReferralEventReward_ReferralEventId" FromRole="ReferralEventRewards" ToRole="ReferralEvents" />
          <NavigationProperty Name="ReferralType" Relationship="Self.FK_ReferralEventReward_ReferralTypeId" FromRole="ReferralEventRewards" ToRole="ReferralTypes" />
          <NavigationProperty Name="Reward" Relationship="Self.FK_ReferralEventReward_RewardId" FromRole="ReferralEventRewards" ToRole="Rewards" />
        </EntityType>
        <EntityType Name="ReferralEvent">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralEventRewards" Relationship="Self.FK_ReferralEventReward_ReferralEventId" FromRole="ReferralEvents" ToRole="ReferralEventRewards" />
        </EntityType>
        <EntityType Name="Referral">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="ReferralEventRewardId" Type="Guid" Nullable="false" />
          <Property Name="RewardPayoutId" Type="Guid" Nullable="false" />
          <Property Name="ReferralDateUtc" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="ReferredUserId" Type="String" MaxLength="100" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralEventReward" Relationship="Self.FK_Referral_ReferralEventReward" FromRole="Referrals" ToRole="ReferralEventRewards" />
          <NavigationProperty Name="RewardPayout" Relationship="Self.FK_Referral_RewardPayouts" FromRole="Referrals" ToRole="RewardPayouts" />
        </EntityType>
        <EntityType Name="ReferralType">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="Sequence" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Code" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="ReferrerId" Type="Guid" Nullable="false" />
          <Property Name="ReferrerTypeId" Type="Int32" Nullable="false" />
          <Property Name="ReferralVectorId" Type="Int32" Nullable="false" />
          <Property Name="RewardRecipientId" Type="Int32" Nullable="false" />
          <Property Name="CreatedDateUtc" Type="DateTime" Nullable="false" Precision="7" />
          <NavigationProperty Name="ReferralEventRewards" Relationship="Self.FK_ReferralEventReward_ReferralTypeId" FromRole="ReferralTypes" ToRole="ReferralEventRewards" />
          <NavigationProperty Name="ReferralVector" Relationship="Self.FK_ReferralType_ReferralVector" FromRole="ReferralTypes" ToRole="ReferralVectors" />
          <NavigationProperty Name="ReferrerType" Relationship="Self.FK_ReferralType_ReferrerType" FromRole="ReferralTypes" ToRole="ReferrerTypes" />
          <NavigationProperty Name="RewardRecipient" Relationship="Self.FK_ReferralType_RewardRecipient" FromRole="ReferralTypes" ToRole="RewardRecipients" />
        </EntityType>
        <EntityType Name="ReferralVector">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralTypes" Relationship="Self.FK_ReferralType_ReferralVector" FromRole="ReferralVectors" ToRole="ReferralTypes" />
        </EntityType>
        <EntityType Name="ReferrerType">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralTypes" Relationship="Self.FK_ReferralType_ReferrerType" FromRole="ReferrerTypes" ToRole="ReferralTypes" />
        </EntityType>
        <EntityType Name="ReimbursementTender">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="RewardPrograms" Relationship="Self.RewardProgramReimbursementTenderIds" FromRole="ReimbursementTender" ToRole="RewardProgram" />
        </EntityType>
        <EntityType Name="RewardPayout">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="RewardId" Type="Guid" Nullable="false" />
          <Property Name="RewardReasonId" Type="Int32" Nullable="false" />
          <Property Name="PayeeId" Type="Guid" Nullable="false" />
          <Property Name="PayeeTypeId" Type="Int32" Nullable="false" />
          <Property Name="RewardPayoutStatusId" Type="Int32" Nullable="false" />
          <Property Name="PayoutScheduledDateUtc" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="PayoutFinalizedDateUtc" Type="DateTime" Precision="7" />
          <Property Name="AgentId" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="AgentTypeId" Type="Int32" />
          <Property Name="Amount" Type="Int32" Nullable="false" />
          <Property Name="Explanation" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="IssuedBy" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <NavigationProperty Name="PayeeType" Relationship="Self.FK_RewardPayouts_PayeeType" FromRole="RewardPayouts" ToRole="PayeeTypes" />
          <NavigationProperty Name="Referrals" Relationship="Self.FK_Referral_RewardPayouts" FromRole="RewardPayouts" ToRole="Referrals" />
          <NavigationProperty Name="Reward" Relationship="Self.FK_RewardPayouts_Reward" FromRole="RewardPayouts" ToRole="Rewards" />
          <NavigationProperty Name="RewardPayoutStatu" Relationship="Self.FK_RewardPayouts_RewardPayoutStatus" FromRole="RewardPayouts" ToRole="RewardPayoutStatus" />
          <NavigationProperty Name="RewardReason" Relationship="Self.FK_RewardPayouts_RewardReason" FromRole="RewardPayouts" ToRole="RewardReasons" />
          <NavigationProperty Name="TrackedRedemptionRewards" Relationship="Self.FK_TrackedRedemptionRewards_RewardPayouts" FromRole="RewardPayouts" ToRole="TrackedRedemptionRewards" />
        </EntityType>
        <EntityType Name="RewardPayoutStatu">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="RewardPayouts" Relationship="Self.FK_RewardPayouts_RewardPayoutStatus" FromRole="RewardPayoutStatus" ToRole="RewardPayouts" />
        </EntityType>
        <EntityType Name="RewardProgram">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" />
          <Property Name="ProgramName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReimbursementTenders" Relationship="Self.RewardProgramReimbursementTenderIds" FromRole="RewardProgram" ToRole="ReimbursementTender" />
        </EntityType>
        <EntityType Name="RewardReason">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="RewardPayouts" Relationship="Self.FK_RewardPayouts_RewardReason" FromRole="RewardReasons" ToRole="RewardPayouts" />
        </EntityType>
        <EntityType Name="RewardRecipient">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralTypes" Relationship="Self.FK_ReferralType_RewardRecipient" FromRole="RewardRecipients" ToRole="ReferralTypes" />
        </EntityType>
        <EntityType Name="Reward">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Guid" Nullable="false" />
          <Property Name="RewardTypeId" Type="Int32" Nullable="false" />
          <Property Name="Description" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="Active" Type="Boolean" Nullable="false" />
          <Property Name="Properties" Type="String" MaxLength="Max" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="ReferralEventRewards" Relationship="Self.FK_ReferralEventReward_RewardId" FromRole="Rewards" ToRole="ReferralEventRewards" />
          <NavigationProperty Name="RewardPayouts" Relationship="Self.FK_RewardPayouts_Reward" FromRole="Rewards" ToRole="RewardPayouts" />
          <NavigationProperty Name="RewardType" Relationship="Self.FK_Rewards_RewardType" FromRole="Rewards" ToRole="RewardTypes" />
        </EntityType>
        <EntityType Name="RewardType">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <NavigationProperty Name="Rewards" Relationship="Self.FK_Rewards_RewardType" FromRole="RewardTypes" ToRole="Rewards" />
        </EntityType>
        <EntityType Name="Sequence">
          <Key>
            <PropertyRef Name="SequenceName" />
          </Key>
          <Property Name="SequenceName" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="Seed" Type="Int32" Nullable="false" />
          <Property Name="Increment" Type="Int32" Nullable="false" />
          <Property Name="CurrentValue" Type="Int32" />
        </EntityType>
        <EntityType Name="TrackedRedemptionReward">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="RedeemedDealId" Type="Guid" Nullable="false" />
          <Property Name="RewardPayoutId" Type="Guid" Nullable="false" />
          <NavigationProperty Name="RedeemedDeal" Relationship="Self.FK_TrackedRedemptionRewards_RedeemedDeals" FromRole="TrackedRedemptionRewards" ToRole="RedeemedDeals" />
          <NavigationProperty Name="RewardPayout" Relationship="Self.FK_TrackedRedemptionRewards_RewardPayouts" FromRole="TrackedRedemptionRewards" ToRole="RewardPayouts" />
        </EntityType>
        <EntityType Name="TransactionLink">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int64" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="DealId" Type="Int32" Nullable="false" />
          <Property Name="UserId" Type="Int32" Nullable="false" />
          <Property Name="CardId" Type="Int32" Nullable="false" />
          <Property Name="PartnerId" Type="Int32" Nullable="false" />
          <Property Name="PartnerClaimedDealId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="DateAdded" Type="DateTime" Precision="3" />
          <NavigationProperty Name="Authorizations" Relationship="Self.FK_Authorizations_ClaimedDealId_ClaimedDeals_Id" FromRole="TransactionLinks" ToRole="Authorizations" />
          <NavigationProperty Name="Card" Relationship="Self.FK_TransactionLinks_CardId_Cards_Id" FromRole="TransactionLinks" ToRole="Cards" />
          <NavigationProperty Name="Deal" Relationship="Self.FK_TransactionLinks_DealId_Deals_Id" FromRole="TransactionLinks" ToRole="Deals" />
          <NavigationProperty Name="Partner" Relationship="Self.FK_TransactionLinks_PartnerId_Partners_id" FromRole="TransactionLinks" ToRole="Partners" />
          <NavigationProperty Name="RedeemedDeals" Relationship="Self.FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id" FromRole="TransactionLinks" ToRole="RedeemedDeals" />
          <NavigationProperty Name="User" Relationship="Self.FK_TransactionLinks_UserId_Users_Id" FromRole="TransactionLinks" ToRole="Users" />
        </EntityType>
        <EntityType Name="TransactionReviewStatu">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Name" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
        </EntityType>
        <EntityType Name="User">
          <Key>
            <PropertyRef Name="Id" />
          </Key>
          <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="GlobalId" Type="Guid" Nullable="false" />
          <Property Name="UtcAdded" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="UtcUpdated" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="ARCHIVE_PartnerUsers" Relationship="Self.FK_PartnerUsers_UserId_Users_Id" FromRole="Users" ToRole="ARCHIVE_PartnerUsers" />
          <NavigationProperty Name="Cards" Relationship="Self.CardUser" FromRole="Users" ToRole="Cards" />
          <NavigationProperty Name="PartnerUserIDs" Relationship="Self.PartnerUserIDsUsers" FromRole="Users" ToRole="PartnerUserIDs" />
          <NavigationProperty Name="TransactionLinks" Relationship="Self.FK_TransactionLinks_UserId_Users_Id" FromRole="Users" ToRole="TransactionLinks" />
        </EntityType>
        <EntityType Name="RedemptionReport">
          <Key>
            <PropertyRef Name="TransactionId" />
            <PropertyRef Name="PartnerName" />
            <PropertyRef Name="PartnerMerchantId" />
            <PropertyRef Name="CardBrand" />
            <PropertyRef Name="LastFourDigits" />
            <PropertyRef Name="DiscountId" />
            <PropertyRef Name="GlobalDiscountId" />
            <PropertyRef Name="AuthorizationDateTimeLocal" />
            <PropertyRef Name="Currency" />
            <PropertyRef Name="AuthorizationAmount" />
            <PropertyRef Name="SettlementAmount" />
            <PropertyRef Name="DiscountAmount" />
            <PropertyRef Name="CurrentState" />
            <PropertyRef Name="GlobalUserID" />
          </Key>
          <Property Name="TransactionId" Type="Guid" Nullable="false" />
          <Property Name="PartnerName" Type="String" MaxLength="50" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="PartnerMerchantId" Type="String" MaxLength="255" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="CardBrand" Type="String" MaxLength="25" FixedLength="false" Unicode="true" Nullable="false" />
          <Property Name="LastFourDigits" Type="String" MaxLength="4" FixedLength="true" Unicode="false" Nullable="false" />
          <Property Name="DealId" Type="Guid" />
          <Property Name="DiscountId" Type="Int32" Nullable="false" />
          <Property Name="GlobalDiscountId" Type="Guid" Nullable="false" />
          <Property Name="AuthorizationDateTimeLocal" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="AuthorizationDateTimeUtc" Type="DateTime" Precision="3" />
          <Property Name="SettlementDate" Type="DateTime" Precision="3" />
          <Property Name="CreditApprovalDateTimeUtc" Type="DateTime" Precision="3" />
          <Property Name="Currency" Type="String" MaxLength="5" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="AuthorizationAmount" Type="Int32" Nullable="false" />
          <Property Name="SettlementAmount" Type="Int32" Nullable="false" />
          <Property Name="DiscountAmount" Type="Int32" Nullable="false" />
          <Property Name="CreditStatus" Type="String" MaxLength="100" FixedLength="false" Unicode="false" />
          <Property Name="CurrentState" Type="String" MaxLength="9" FixedLength="false" Unicode="false" Nullable="false" />
          <Property Name="LastUpdatedDateUtc" Type="DateTime" Precision="3" />
          <Property Name="UtcReachedTerminalState" Type="DateTime" Precision="3" />
          <Property Name="GlobalUserID" Type="Guid" Nullable="false" />
        </EntityType>
        <Association Name="FK_PartnerCards_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Card" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerCards" Type="Self.ARCHIVE_PartnerCards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerCards">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerCards_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerCards" Type="Self.ARCHIVE_PartnerCards" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerCards">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerUsers_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerUsers" Type="Self.ARCHIVE_PartnerUsers" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerUsers">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerUsers_UserId_Users_Id">
          <End Role="Users" Type="Self.User" Multiplicity="1" />
          <End Role="ARCHIVE_PartnerUsers" Type="Self.ARCHIVE_PartnerUsers" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ARCHIVE_PartnerUsers">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_ClaimedDealId_ClaimedDeals_Id">
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorization" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionLinks">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="ClaimedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_MerchantNameId_MerchantNames_Id">
          <End Role="MerchantNames" Type="Self.MerchantName" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorization" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="MerchantNames">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="MerchantNameId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Authorizations_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="Authorizations" Type="Self.Authorization" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Authorizations">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="CardUser">
          <End Role="Users" Type="Self.User" Multiplicity="1" />
          <End Role="Cards" Type="Self.Card" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Cards">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Card" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatch" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_CardId_Cards_Id">
          <End Role="Cards" Type="Self.Card" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Cards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="CardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_DealBatchId_DealBatches_Id">
          <End Role="DealBatches" Type="Self.DealBatch" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatch" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DealBatches">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="DealBatchId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ClaimedDealBatches_PartnerId_Partners_id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="ClaimedDealBatches" Type="Self.ClaimedDealBatch" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ClaimedDealBatches">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deal" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantId" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantId" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id">
          <End Role="PartnerMerchantIdTypes" Type="Self.PartnerMerchantIdType" Multiplicity="1" />
          <End Role="DealPartnerMerchantIds" Type="Self.DealPartnerMerchantId" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PartnerMerchantIdTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="DealPartnerMerchantIds">
              <PropertyRef Name="PartnerMerchantIdTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Deals_DealStatusId_DealStatus_Id">
          <End Role="DealStatus" Type="Self.DealStatu" Multiplicity="1" />
          <End Role="Deals" Type="Self.Deal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DealStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Deals">
              <PropertyRef Name="DealStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Deals_MerchantNameId_MerchantNames_Id">
          <End Role="MerchantNames" Type="Self.MerchantName" Multiplicity="0..1" />
          <End Role="Deals" Type="Self.Deal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="MerchantNames">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Deals">
              <PropertyRef Name="MerchantNameId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deal" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_DealId_Deals_Id">
          <End Role="Deals" Type="Self.Deal" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Deals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="DealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="MerchantProvider">
          <End Role="Providers" Type="Self.Provider" Multiplicity="1" />
          <End Role="Merchants" Type="Self.Merchant" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Providers">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Merchants">
              <PropertyRef Name="ProviderId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerMerchantAuthorizationIDsMerchant">
          <End Role="Merchants" Type="Self.Merchant" Multiplicity="1" />
          <End Role="PartnerMerchantAuthorizationIDs" Type="Self.PartnerMerchantAuthorizationID" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Merchants">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerMerchantAuthorizationIDs">
              <PropertyRef Name="MerchantId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerMerchantSettlementIDsMerchant">
          <End Role="Merchants" Type="Self.Merchant" Multiplicity="1" />
          <End Role="PartnerMerchantSettlementIDs" Type="Self.PartnerMerchantSettlementID" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Merchants">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerMerchantSettlementIDs">
              <PropertyRef Name="MerchantId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="OfferProvider">
          <End Role="Providers" Type="Self.Provider" Multiplicity="1" />
          <End Role="Offers" Type="Self.Offer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Providers">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Offers">
              <PropertyRef Name="ProviderId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id">
          <End Role="PartnerDealRegistrationStatus" Type="Self.PartnerDealRegistrationStatu" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PartnerDealRegistrationStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="PartnerDealRegistrationStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerDeals_PartnerId_Partners_Id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="PartnerDeals" Type="Self.PartnerDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerDeals">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_PartnerRedeemedDeals_RedeemedDeals">
          <End Role="RedeemedDeals" Type="Self.RedeemedDeal" Multiplicity="1" />
          <End Role="PartnerRedeemedDeals" Type="Self.PartnerRedeemedDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedeemedDeals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerRedeemedDeals">
              <PropertyRef Name="RedeemedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_PartnerId_Partners_id">
          <End Role="Partners" Type="Self.Partner" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Partners">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="PartnerId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="PartnerUserIDsUsers">
          <End Role="Users" Type="Self.User" Multiplicity="1" />
          <End Role="PartnerUserIDs" Type="Self.PartnerUserID" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="PartnerUserIDs">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_PayeeType">
          <End Role="PayeeTypes" Type="Self.PayeeType" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PayeeTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="PayeeTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id">
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="1" />
          <End Role="RedeemedDeals" Type="Self.RedeemedDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionLinks">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RedeemedDeals">
              <PropertyRef Name="ClaimedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id">
          <End Role="RedemptionEvents" Type="Self.RedemptionEvent" Multiplicity="1" />
          <End Role="RedeemedDeals" Type="Self.RedeemedDeal" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedemptionEvents">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RedeemedDeals">
              <PropertyRef Name="RedemptionEventId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TrackedRedemptionRewards_RedeemedDeals">
          <End Role="RedeemedDeals" Type="Self.RedeemedDeal" Multiplicity="1" />
          <End Role="TrackedRedemptionRewards" Type="Self.TrackedRedemptionReward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RedeemedDeals">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TrackedRedemptionRewards">
              <PropertyRef Name="RedeemedDealId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Referral_ReferralEventReward">
          <End Role="ReferralEventRewards" Type="Self.ReferralEventReward" Multiplicity="1" />
          <End Role="Referrals" Type="Self.Referral" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralEventRewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Referrals">
              <PropertyRef Name="ReferralEventRewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_ReferralEventId">
          <End Role="ReferralEvents" Type="Self.ReferralEvent" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventReward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralEvents">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="ReferralEventId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_ReferralTypeId">
          <End Role="ReferralTypes" Type="Self.ReferralType" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventReward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="ReferralTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralEventReward_RewardId">
          <End Role="Rewards" Type="Self.Reward" Multiplicity="1" />
          <End Role="ReferralEventRewards" Type="Self.ReferralEventReward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Rewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralEventRewards">
              <PropertyRef Name="RewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Referral_RewardPayouts">
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="1" />
          <End Role="Referrals" Type="Self.Referral" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayouts">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Referrals">
              <PropertyRef Name="RewardPayoutId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_ReferralVector">
          <End Role="ReferralVectors" Type="Self.ReferralVector" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralType" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferralVectors">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="ReferralVectorId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_ReferrerType">
          <End Role="ReferrerTypes" Type="Self.ReferrerType" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralType" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="ReferrerTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="ReferrerTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_ReferralType_RewardRecipient">
          <End Role="RewardRecipients" Type="Self.RewardRecipient" Multiplicity="1" />
          <End Role="ReferralTypes" Type="Self.ReferralType" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardRecipients">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="ReferralTypes">
              <PropertyRef Name="RewardRecipientId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_Reward">
          <End Role="Rewards" Type="Self.Reward" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Rewards">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_RewardPayoutStatus">
          <End Role="RewardPayoutStatus" Type="Self.RewardPayoutStatu" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayoutStatus">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardPayoutStatusId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_RewardPayouts_RewardReason">
          <End Role="RewardReasons" Type="Self.RewardReason" Multiplicity="1" />
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardReasons">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="RewardPayouts">
              <PropertyRef Name="RewardReasonId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TrackedRedemptionRewards_RewardPayouts">
          <End Role="RewardPayouts" Type="Self.RewardPayout" Multiplicity="1" />
          <End Role="TrackedRedemptionRewards" Type="Self.TrackedRedemptionReward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardPayouts">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TrackedRedemptionRewards">
              <PropertyRef Name="RewardPayoutId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Rewards_RewardType">
          <End Role="RewardTypes" Type="Self.RewardType" Multiplicity="1" />
          <End Role="Rewards" Type="Self.Reward" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="RewardTypes">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="Rewards">
              <PropertyRef Name="RewardTypeId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_TransactionLinks_UserId_Users_Id">
          <End Role="Users" Type="Self.User" Multiplicity="1" />
          <End Role="TransactionLinks" Type="Self.TransactionLink" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Users">
              <PropertyRef Name="Id" />
            </Principal>
            <Dependent Role="TransactionLinks">
              <PropertyRef Name="UserId" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="DealBatchDetails">
          <End Role="DealBatches" Type="Self.DealBatch" Multiplicity="*" />
          <End Role="Deals" Type="Self.Deal" Multiplicity="*" />
        </Association>
        <Association Name="RewardProgramReimbursementTenderIds">
          <End Role="ReimbursementTender" Type="Self.ReimbursementTender" Multiplicity="*" />
          <End Role="RewardProgram" Type="Self.RewardProgram" Multiplicity="*" />
        </Association>
        <EntityContainer Name="CommerceEntities" annotation:LazyLoadingEnabled="true">
          <EntitySet Name="ARCHIVE_PartnerCards" EntityType="Self.ARCHIVE_PartnerCards" />
          <EntitySet Name="ARCHIVE_PartnerUsers" EntityType="Self.ARCHIVE_PartnerUsers" />
          <EntitySet Name="Authorizations" EntityType="Self.Authorization" />
          <EntitySet Name="CardBrands" EntityType="Self.CardBrand" />
          <EntitySet Name="Cards" EntityType="Self.Card" />
          <EntitySet Name="ClaimedDealBatches" EntityType="Self.ClaimedDealBatch" />
          <EntitySet Name="CreditStatus" EntityType="Self.CreditStatu" />
          <EntitySet Name="DealBatches" EntityType="Self.DealBatch" />
          <EntitySet Name="DealPartnerMerchantIds" EntityType="Self.DealPartnerMerchantId" />
          <EntitySet Name="Deals" EntityType="Self.Deal" />
          <EntitySet Name="DealStatus" EntityType="Self.DealStatu" />
          <EntitySet Name="EventLogs" EntityType="Self.EventLog" />
          <EntitySet Name="MerchantNames" EntityType="Self.MerchantName" />
          <EntitySet Name="Merchants" EntityType="Self.Merchant" />
          <EntitySet Name="MSSVDistributions" EntityType="Self.MSSVDistribution" />
          <EntitySet Name="Offers" EntityType="Self.Offer" />
          <EntitySet Name="Parameters" EntityType="Self.Parameter" />
          <EntitySet Name="PartnerCardFilters" EntityType="Self.PartnerCardFilter" />
          <EntitySet Name="PartnerDealRegistrationStatus" EntityType="Self.PartnerDealRegistrationStatu" />
          <EntitySet Name="PartnerDeals" EntityType="Self.PartnerDeal" />
          <EntitySet Name="PartnerMerchantAuthorizationIDs" EntityType="Self.PartnerMerchantAuthorizationID" />
          <EntitySet Name="PartnerMerchantIdTypes" EntityType="Self.PartnerMerchantIdType" />
          <EntitySet Name="PartnerMerchantSettlementIDs" EntityType="Self.PartnerMerchantSettlementID" />
          <EntitySet Name="PartnerRedeemedDeals" EntityType="Self.PartnerRedeemedDeal" />
          <EntitySet Name="Partners" EntityType="Self.Partner" />
          <EntitySet Name="PartnerUserIDs" EntityType="Self.PartnerUserID" />
          <EntitySet Name="PayeeTypes" EntityType="Self.PayeeType" />
          <EntitySet Name="Providers" EntityType="Self.Provider" />
          <EntitySet Name="RedeemedDeals" EntityType="Self.RedeemedDeal" />
          <EntitySet Name="RedemptionEvents" EntityType="Self.RedemptionEvent" />
          <EntitySet Name="ReferralEventRewards" EntityType="Self.ReferralEventReward" />
          <EntitySet Name="ReferralEvents" EntityType="Self.ReferralEvent" />
          <EntitySet Name="Referrals" EntityType="Self.Referral" />
          <EntitySet Name="ReferralTypes" EntityType="Self.ReferralType" />
          <EntitySet Name="ReferralVectors" EntityType="Self.ReferralVector" />
          <EntitySet Name="ReferrerTypes" EntityType="Self.ReferrerType" />
          <EntitySet Name="ReimbursementTenders" EntityType="Self.ReimbursementTender" />
          <EntitySet Name="RewardPayouts" EntityType="Self.RewardPayout" />
          <EntitySet Name="RewardPayoutStatus" EntityType="Self.RewardPayoutStatu" />
          <EntitySet Name="RewardPrograms" EntityType="Self.RewardProgram" />
          <EntitySet Name="RewardReasons" EntityType="Self.RewardReason" />
          <EntitySet Name="RewardRecipients" EntityType="Self.RewardRecipient" />
          <EntitySet Name="Rewards" EntityType="Self.Reward" />
          <EntitySet Name="RewardTypes" EntityType="Self.RewardType" />
          <EntitySet Name="Sequences" EntityType="Self.Sequence" />
          <EntitySet Name="TrackedRedemptionRewards" EntityType="Self.TrackedRedemptionReward" />
          <EntitySet Name="TransactionLinks" EntityType="Self.TransactionLink" />
          <EntitySet Name="TransactionReviewStatus" EntityType="Self.TransactionReviewStatu" />
          <EntitySet Name="Users" EntityType="Self.User" />
          <EntitySet Name="RedemptionReports" EntityType="Self.RedemptionReport" />
          <AssociationSet Name="FK_PartnerCards_CardId_Cards_Id" Association="Self.FK_PartnerCards_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="ARCHIVE_PartnerCards" EntitySet="ARCHIVE_PartnerCards" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerCards_PartnerId_Partners_Id" Association="Self.FK_PartnerCards_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ARCHIVE_PartnerCards" EntitySet="ARCHIVE_PartnerCards" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerUsers_PartnerId_Partners_Id" Association="Self.FK_PartnerUsers_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ARCHIVE_PartnerUsers" EntitySet="ARCHIVE_PartnerUsers" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerUsers_UserId_Users_Id" Association="Self.FK_PartnerUsers_UserId_Users_Id">
            <End Role="Users" EntitySet="Users" />
            <End Role="ARCHIVE_PartnerUsers" EntitySet="ARCHIVE_PartnerUsers" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_ClaimedDealId_ClaimedDeals_Id" Association="Self.FK_Authorizations_ClaimedDealId_ClaimedDeals_Id">
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_MerchantNameId_MerchantNames_Id" Association="Self.FK_Authorizations_MerchantNameId_MerchantNames_Id">
            <End Role="MerchantNames" EntitySet="MerchantNames" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="FK_Authorizations_PartnerId_Partners_Id" Association="Self.FK_Authorizations_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="Authorizations" EntitySet="Authorizations" />
          </AssociationSet>
          <AssociationSet Name="CardUser" Association="Self.CardUser">
            <End Role="Users" EntitySet="Users" />
            <End Role="Cards" EntitySet="Cards" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_CardId_Cards_Id" Association="Self.FK_ClaimedDealBatches_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_CardId_Cards_Id" Association="Self.FK_TransactionLinks_CardId_Cards_Id">
            <End Role="Cards" EntitySet="Cards" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_DealBatchId_DealBatches_Id" Association="Self.FK_ClaimedDealBatches_DealBatchId_DealBatches_Id">
            <End Role="DealBatches" EntitySet="DealBatches" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_ClaimedDealBatches_PartnerId_Partners_id" Association="Self.FK_ClaimedDealBatches_PartnerId_Partners_id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="ClaimedDealBatches" EntitySet="ClaimedDealBatches" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_DealId_Deals_Id" Association="Self.FK_DealPartnerMerchantIds_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_PartnerId_Partners_Id" Association="Self.FK_DealPartnerMerchantIds_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id" Association="Self.FK_DealPartnerMerchantIds_PartnerMerchantIdTypeId_PartnerMerchantIdTypes_Id">
            <End Role="PartnerMerchantIdTypes" EntitySet="PartnerMerchantIdTypes" />
            <End Role="DealPartnerMerchantIds" EntitySet="DealPartnerMerchantIds" />
          </AssociationSet>
          <AssociationSet Name="FK_Deals_DealStatusId_DealStatus_Id" Association="Self.FK_Deals_DealStatusId_DealStatus_Id">
            <End Role="DealStatus" EntitySet="DealStatus" />
            <End Role="Deals" EntitySet="Deals" />
          </AssociationSet>
          <AssociationSet Name="FK_Deals_MerchantNameId_MerchantNames_Id" Association="Self.FK_Deals_MerchantNameId_MerchantNames_Id">
            <End Role="MerchantNames" EntitySet="MerchantNames" />
            <End Role="Deals" EntitySet="Deals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_DealId_Deals_Id" Association="Self.FK_PartnerDeals_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_DealId_Deals_Id" Association="Self.FK_TransactionLinks_DealId_Deals_Id">
            <End Role="Deals" EntitySet="Deals" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="MerchantProvider" Association="Self.MerchantProvider">
            <End Role="Providers" EntitySet="Providers" />
            <End Role="Merchants" EntitySet="Merchants" />
          </AssociationSet>
          <AssociationSet Name="PartnerMerchantAuthorizationIDsMerchant" Association="Self.PartnerMerchantAuthorizationIDsMerchant">
            <End Role="Merchants" EntitySet="Merchants" />
            <End Role="PartnerMerchantAuthorizationIDs" EntitySet="PartnerMerchantAuthorizationIDs" />
          </AssociationSet>
          <AssociationSet Name="PartnerMerchantSettlementIDsMerchant" Association="Self.PartnerMerchantSettlementIDsMerchant">
            <End Role="Merchants" EntitySet="Merchants" />
            <End Role="PartnerMerchantSettlementIDs" EntitySet="PartnerMerchantSettlementIDs" />
          </AssociationSet>
          <AssociationSet Name="OfferProvider" Association="Self.OfferProvider">
            <End Role="Providers" EntitySet="Providers" />
            <End Role="Offers" EntitySet="Offers" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id" Association="Self.FK_PartnerDeals_PartnerDealRegistrationStatusId_PartnerDealRegistrationStatus_Id">
            <End Role="PartnerDealRegistrationStatus" EntitySet="PartnerDealRegistrationStatus" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerDeals_PartnerId_Partners_Id" Association="Self.FK_PartnerDeals_PartnerId_Partners_Id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="PartnerDeals" EntitySet="PartnerDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_PartnerRedeemedDeals_RedeemedDeals" Association="Self.FK_PartnerRedeemedDeals_RedeemedDeals">
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
            <End Role="PartnerRedeemedDeals" EntitySet="PartnerRedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_PartnerId_Partners_id" Association="Self.FK_TransactionLinks_PartnerId_Partners_id">
            <End Role="Partners" EntitySet="Partners" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="PartnerUserIDsUsers" Association="Self.PartnerUserIDsUsers">
            <End Role="Users" EntitySet="Users" />
            <End Role="PartnerUserIDs" EntitySet="PartnerUserIDs" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_PayeeType" Association="Self.FK_RewardPayouts_PayeeType">
            <End Role="PayeeTypes" EntitySet="PayeeTypes" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id" Association="Self.FK_RedeemedDeals_ClaimedDealId_ClaimedDeals_Id">
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id" Association="Self.FK_RedeemedDeals_RedemptionEventId_RedemptionEvents_Id">
            <End Role="RedemptionEvents" EntitySet="RedemptionEvents" />
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
          </AssociationSet>
          <AssociationSet Name="FK_TrackedRedemptionRewards_RedeemedDeals" Association="Self.FK_TrackedRedemptionRewards_RedeemedDeals">
            <End Role="RedeemedDeals" EntitySet="RedeemedDeals" />
            <End Role="TrackedRedemptionRewards" EntitySet="TrackedRedemptionRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_Referral_ReferralEventReward" Association="Self.FK_Referral_ReferralEventReward">
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
            <End Role="Referrals" EntitySet="Referrals" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_ReferralEventId" Association="Self.FK_ReferralEventReward_ReferralEventId">
            <End Role="ReferralEvents" EntitySet="ReferralEvents" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_ReferralTypeId" Association="Self.FK_ReferralEventReward_ReferralTypeId">
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralEventReward_RewardId" Association="Self.FK_ReferralEventReward_RewardId">
            <End Role="Rewards" EntitySet="Rewards" />
            <End Role="ReferralEventRewards" EntitySet="ReferralEventRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_Referral_RewardPayouts" Association="Self.FK_Referral_RewardPayouts">
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
            <End Role="Referrals" EntitySet="Referrals" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_ReferralVector" Association="Self.FK_ReferralType_ReferralVector">
            <End Role="ReferralVectors" EntitySet="ReferralVectors" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_ReferrerType" Association="Self.FK_ReferralType_ReferrerType">
            <End Role="ReferrerTypes" EntitySet="ReferrerTypes" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_ReferralType_RewardRecipient" Association="Self.FK_ReferralType_RewardRecipient">
            <End Role="RewardRecipients" EntitySet="RewardRecipients" />
            <End Role="ReferralTypes" EntitySet="ReferralTypes" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_Reward" Association="Self.FK_RewardPayouts_Reward">
            <End Role="Rewards" EntitySet="Rewards" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_RewardPayoutStatus" Association="Self.FK_RewardPayouts_RewardPayoutStatus">
            <End Role="RewardPayoutStatus" EntitySet="RewardPayoutStatus" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_RewardPayouts_RewardReason" Association="Self.FK_RewardPayouts_RewardReason">
            <End Role="RewardReasons" EntitySet="RewardReasons" />
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
          </AssociationSet>
          <AssociationSet Name="FK_TrackedRedemptionRewards_RewardPayouts" Association="Self.FK_TrackedRedemptionRewards_RewardPayouts">
            <End Role="RewardPayouts" EntitySet="RewardPayouts" />
            <End Role="TrackedRedemptionRewards" EntitySet="TrackedRedemptionRewards" />
          </AssociationSet>
          <AssociationSet Name="FK_Rewards_RewardType" Association="Self.FK_Rewards_RewardType">
            <End Role="RewardTypes" EntitySet="RewardTypes" />
            <End Role="Rewards" EntitySet="Rewards" />
          </AssociationSet>
          <AssociationSet Name="FK_TransactionLinks_UserId_Users_Id" Association="Self.FK_TransactionLinks_UserId_Users_Id">
            <End Role="Users" EntitySet="Users" />
            <End Role="TransactionLinks" EntitySet="TransactionLinks" />
          </AssociationSet>
          <AssociationSet Name="DealBatchDetails" Association="Self.DealBatchDetails">
            <End Role="DealBatches" EntitySet="DealBatches" />
            <End Role="Deals" EntitySet="Deals" />
          </AssociationSet>
          <AssociationSet Name="RewardProgramReimbursementTenderIds" Association="Self.RewardProgramReimbursementTenderIds">
            <End Role="ReimbursementTender" EntitySet="ReimbursementTenders" />
            <End Role="RewardProgram" EntitySet="RewardPrograms" />
          </AssociationSet>
        </EntityContainer>
      </Schema>
    </edmx:ConceptualModels>
    <!-- C-S mapping content -->
    <edmx:Mappings>
      <Mapping Space="C-S" xmlns="http://schemas.microsoft.com/ado/2009/11/mapping/cs">
        <EntityContainerMapping StorageEntityContainer="CommerceModelStoreContainer" CdmEntityContainer="CommerceEntities">
          <EntitySetMapping Name="ARCHIVE_PartnerCards">
            <EntityTypeMapping TypeName="CommerceModel.ARCHIVE_PartnerCards">
              <MappingFragment StoreEntitySet="ARCHIVE_PartnerCards">
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="PartnerCardId" ColumnName="PartnerCardId" />
                <ScalarProperty Name="CardId" ColumnName="CardId" />
                <ScalarProperty Name="PartnerCardSuffix" ColumnName="PartnerCardSuffix" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ARCHIVE_PartnerUsers">
            <EntityTypeMapping TypeName="CommerceModel.ARCHIVE_PartnerUsers">
              <MappingFragment StoreEntitySet="ARCHIVE_PartnerUsers">
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="PartnerUserId" ColumnName="PartnerUserId" />
                <ScalarProperty Name="UserId" ColumnName="UserId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Authorizations">
            <EntityTypeMapping TypeName="CommerceModel.Authorization">
              <MappingFragment StoreEntitySet="Authorizations">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="TransactionId" ColumnName="TransactionId" />
                <ScalarProperty Name="TransactionDate" ColumnName="TransactionDate" />
                <ScalarProperty Name="TransactionAmount" ColumnName="TransactionAmount" />
                <ScalarProperty Name="ClaimedDealId" ColumnName="ClaimedDealId" />
                <ScalarProperty Name="DiscountAmount" ColumnName="DiscountAmount" />
                <ScalarProperty Name="PartnerData" ColumnName="PartnerData" />
                <ScalarProperty Name="DateAdded" ColumnName="DateAdded" />
                <ScalarProperty Name="TransactionScopeId" ColumnName="TransactionScopeId" />
                <ScalarProperty Name="PermaPending" ColumnName="PermaPending" />
                <ScalarProperty Name="ReviewStatusId" ColumnName="ReviewStatusId" />
                <ScalarProperty Name="MerchantNameId" ColumnName="MerchantNameId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="CardBrands">
            <EntityTypeMapping TypeName="CommerceModel.CardBrand">
              <MappingFragment StoreEntitySet="CardBrands">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Cards">
            <EntityTypeMapping TypeName="CommerceModel.Card">
              <MappingFragment StoreEntitySet="Cards">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="UserId" ColumnName="UserId" />
                <ScalarProperty Name="LastFourDigits" ColumnName="LastFourDigits" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
                <ScalarProperty Name="CardBrand" ColumnName="CardBrand" />
                <ScalarProperty Name="Flags" ColumnName="Flags" />
                <ScalarProperty Name="PartnerToken" ColumnName="PartnerToken" />
                <ScalarProperty Name="FDCToken" ColumnName="FDCToken" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ClaimedDealBatches">
            <EntityTypeMapping TypeName="CommerceModel.ClaimedDealBatch">
              <MappingFragment StoreEntitySet="ClaimedDealBatches">
                <ScalarProperty Name="CardId" ColumnName="CardId" />
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="DealBatchId" ColumnName="DealBatchId" />
                <ScalarProperty Name="StartDate" ColumnName="StartDate" />
                <ScalarProperty Name="EndDate" ColumnName="EndDate" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="CreditStatus">
            <EntityTypeMapping TypeName="CommerceModel.CreditStatu">
              <MappingFragment StoreEntitySet="CreditStatus">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="DealBatches">
            <EntityTypeMapping TypeName="CommerceModel.DealBatch">
              <MappingFragment StoreEntitySet="DealBatches">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="SumOfIds" ColumnName="SumOfIds" />
                <ScalarProperty Name="Count" ColumnName="Count" />
                <ScalarProperty Name="RegisteredDate" ColumnName="RegisteredDate" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="DealPartnerMerchantIds">
            <EntityTypeMapping TypeName="CommerceModel.DealPartnerMerchantId">
              <MappingFragment StoreEntitySet="DealPartnerMerchantIds">
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="PartnerMerchantId" ColumnName="PartnerMerchantId" />
                <ScalarProperty Name="DealId" ColumnName="DealId" />
                <ScalarProperty Name="PartnerMerchantIdTypeId" ColumnName="PartnerMerchantIdTypeId" />
                <ScalarProperty Name="MerchantTimeZoneId" ColumnName="MerchantTimeZoneId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Deals">
            <EntityTypeMapping TypeName="CommerceModel.Deal">
              <MappingFragment StoreEntitySet="Deals">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="GlobalId" ColumnName="GlobalId" />
                <ScalarProperty Name="MerchantId" ColumnName="MerchantId" />
                <ScalarProperty Name="StartDate" ColumnName="StartDate" />
                <ScalarProperty Name="EndDate" ColumnName="EndDate" />
                <ScalarProperty Name="Currency" ColumnName="Currency" />
                <ScalarProperty Name="Amount" ColumnName="Amount" />
                <ScalarProperty Name="Percent" ColumnName="Percent" />
                <ScalarProperty Name="MinimumPurchase" ColumnName="MinimumPurchase" />
                <ScalarProperty Name="Count" ColumnName="Count" />
                <ScalarProperty Name="UserLimit" ColumnName="UserLimit" />
                <ScalarProperty Name="DiscountSummary" ColumnName="DiscountSummary" />
                <ScalarProperty Name="MaximumDiscount" ColumnName="MaximumDiscount" />
                <ScalarProperty Name="ParentDealId" ColumnName="ParentDealId" />
                <ScalarProperty Name="DateIngestedUtc" ColumnName="DateIngestedUtc" />
                <ScalarProperty Name="DealStatusId" ColumnName="DealStatusId" />
                <ScalarProperty Name="MerchantNameId" ColumnName="MerchantNameId" />
                <ScalarProperty Name="DayTimeRestrictions" ColumnName="DayTimeRestrictions" />
                <ScalarProperty Name="ReimbursementTenderId" ColumnName="ReimbursementTenderId" />
                <ScalarProperty Name="ProviderId" ColumnName="ProviderId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="DealStatus">
            <EntityTypeMapping TypeName="CommerceModel.DealStatu">
              <MappingFragment StoreEntitySet="DealStatus">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="EventLogs">
            <EntityTypeMapping TypeName="CommerceModel.EventLog">
              <MappingFragment StoreEntitySet="EventLog">
                <ScalarProperty Name="EventID" ColumnName="EventID" />
                <ScalarProperty Name="LocalDate" ColumnName="LocalDate" />
                <ScalarProperty Name="Process" ColumnName="Process" />
                <ScalarProperty Name="Status" ColumnName="Status" />
                <ScalarProperty Name="Mode" ColumnName="Mode" />
                <ScalarProperty Name="Action" ColumnName="Action" />
                <ScalarProperty Name="Target" ColumnName="Target" />
                <ScalarProperty Name="Rows" ColumnName="Rows" />
                <ScalarProperty Name="Milliseconds" ColumnName="Milliseconds" />
                <ScalarProperty Name="EventText" ColumnName="EventText" />
                <ScalarProperty Name="EventDate" ColumnName="EventDate" />
                <ScalarProperty Name="ParentEventID" ColumnName="ParentEventID" />
                <ScalarProperty Name="SPID" ColumnName="SPID" />
                <ScalarProperty Name="UserName" ColumnName="UserName" />
                <ScalarProperty Name="HostName" ColumnName="HostName" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="MerchantNames">
            <EntityTypeMapping TypeName="CommerceModel.MerchantName">
              <MappingFragment StoreEntitySet="MerchantNames">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Merchants">
            <EntityTypeMapping TypeName="CommerceModel.Merchant">
              <MappingFragment StoreEntitySet="Merchants">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="GlobalID" ColumnName="GlobalID" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="ProviderId" ColumnName="ProviderId" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="MSSVDistributions">
            <EntityTypeMapping TypeName="CommerceModel.MSSVDistribution">
              <MappingFragment StoreEntitySet="MSSVDistributions">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="DistributionDateUtc" ColumnName="DistributionDateUtc" />
                <ScalarProperty Name="UserId" ColumnName="UserId" />
                <ScalarProperty Name="Amount" ColumnName="Amount" />
                <ScalarProperty Name="Currency" ColumnName="Currency" />
                <ScalarProperty Name="VoucherExpirationUtc" ColumnName="VoucherExpirationUtc" />
                <ScalarProperty Name="Notes" ColumnName="Notes" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Offers">
            <EntityTypeMapping TypeName="CommerceModel.Offer">
              <MappingFragment StoreEntitySet="Offers">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="GlobalID" ColumnName="GlobalID" />
                <ScalarProperty Name="ProviderId" ColumnName="ProviderId" />
                <ScalarProperty Name="OfferType" ColumnName="OfferType" />
                <ScalarProperty Name="PercentBack" ColumnName="PercentBack" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Parameters">
            <EntityTypeMapping TypeName="CommerceModel.Parameter">
              <MappingFragment StoreEntitySet="Parameters">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Date" ColumnName="Date" />
                <ScalarProperty Name="Number" ColumnName="Number" />
                <ScalarProperty Name="Char" ColumnName="Char" />
                <ScalarProperty Name="UpdatedDate" ColumnName="UpdatedDate" />
                <ScalarProperty Name="UpdatedBy" ColumnName="UpdatedBy" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerCardFilters">
            <EntityTypeMapping TypeName="CommerceModel.PartnerCardFilter">
              <MappingFragment StoreEntitySet="PartnerCardFilters">
                <ScalarProperty Name="PartnerCardId" ColumnName="PartnerCardId" />
                <ScalarProperty Name="DateFiltered" ColumnName="DateFiltered" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerDealRegistrationStatus">
            <EntityTypeMapping TypeName="CommerceModel.PartnerDealRegistrationStatu">
              <MappingFragment StoreEntitySet="PartnerDealRegistrationStatus">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerDeals">
            <EntityTypeMapping TypeName="CommerceModel.PartnerDeal">
              <MappingFragment StoreEntitySet="PartnerDeals">
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="PartnerDealId" ColumnName="PartnerDealId" />
                <ScalarProperty Name="DealId" ColumnName="DealId" />
                <ScalarProperty Name="PartnerDealRegistrationStatusId" ColumnName="PartnerDealRegistrationStatusId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerMerchantAuthorizationIDs">
            <EntityTypeMapping TypeName="CommerceModel.PartnerMerchantAuthorizationID">
              <MappingFragment StoreEntitySet="PartnerMerchantAuthorizationIDs">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="MerchantId" ColumnName="MerchantId" />
                <ScalarProperty Name="Partner" ColumnName="Partner" />
                <ScalarProperty Name="AuthorizationID" ColumnName="AuthorizationID" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerMerchantIdTypes">
            <EntityTypeMapping TypeName="CommerceModel.PartnerMerchantIdType">
              <MappingFragment StoreEntitySet="PartnerMerchantIdTypes">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerMerchantSettlementIDs">
            <EntityTypeMapping TypeName="CommerceModel.PartnerMerchantSettlementID">
              <MappingFragment StoreEntitySet="PartnerMerchantSettlementIDs">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="MerchantId" ColumnName="MerchantId" />
                <ScalarProperty Name="Partner" ColumnName="Partner" />
                <ScalarProperty Name="SettlementID" ColumnName="SettlementID" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerRedeemedDeals">
            <EntityTypeMapping TypeName="CommerceModel.PartnerRedeemedDeal">
              <MappingFragment StoreEntitySet="PartnerRedeemedDeals">
                <ScalarProperty Name="TransactionReferenceNumber" ColumnName="TransactionReferenceNumber" />
                <ScalarProperty Name="RedeemedDealId" ColumnName="RedeemedDealId" />
                <ScalarProperty Name="PartnerRedeemedDealId" ColumnName="PartnerRedeemedDealId" />
                <ScalarProperty Name="PartnerReferenceNumber" ColumnName="PartnerReferenceNumber" />
                <ScalarProperty Name="PartnerMerchantId" ColumnName="PartnerMerchantId" />
                <ScalarProperty Name="RecommendedPartnerDealId" ColumnName="RecommendedPartnerDealId" />
                <ScalarProperty Name="RecommendedPartnerClaimedDealId" ColumnName="RecommendedPartnerClaimedDealId" />
                <ScalarProperty Name="PartnerData" ColumnName="PartnerData" />
                <ScalarProperty Name="PartnerRedeemedDealScopeId" ColumnName="PartnerRedeemedDealScopeId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Partners">
            <EntityTypeMapping TypeName="CommerceModel.Partner">
              <MappingFragment StoreEntitySet="Partners">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PartnerUserIDs">
            <EntityTypeMapping TypeName="CommerceModel.PartnerUserID">
              <MappingFragment StoreEntitySet="PartnerUserIDs">
                <ScalarProperty Name="UserId" ColumnName="UserId" />
                <ScalarProperty Name="Partner" ColumnName="Partner" />
                <ScalarProperty Name="PartnerUserID1" ColumnName="PartnerUserID" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PayeeTypes">
            <EntityTypeMapping TypeName="CommerceModel.PayeeType">
              <MappingFragment StoreEntitySet="PayeeTypes">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Providers">
            <EntityTypeMapping TypeName="CommerceModel.Provider">
              <MappingFragment StoreEntitySet="Providers">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="GlobalID" ColumnName="GlobalID" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RedeemedDeals">
            <EntityTypeMapping TypeName="CommerceModel.RedeemedDeal">
              <MappingFragment StoreEntitySet="RedeemedDeals">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="ClaimedDealId" ColumnName="ClaimedDealId" />
                <ScalarProperty Name="RedemptionEventId" ColumnName="RedemptionEventId" />
                <ScalarProperty Name="PurchaseDateTime" ColumnName="PurchaseDateTime" />
                <ScalarProperty Name="AuthorizationAmount" ColumnName="AuthorizationAmount" />
                <ScalarProperty Name="Currency" ColumnName="Currency" />
                <ScalarProperty Name="Reversed" ColumnName="Reversed" />
                <ScalarProperty Name="CreditStatusId" ColumnName="CreditStatusId" />
                <ScalarProperty Name="DiscountAmount" ColumnName="DiscountAmount" />
                <ScalarProperty Name="SettlementAmount" ColumnName="SettlementAmount" />
                <ScalarProperty Name="AnalyticsRedemptionEventId" ColumnName="AnalyticsRedemptionEventId" />
                <ScalarProperty Name="AnalyticsSettlementEventId" ColumnName="AnalyticsSettlementEventId" />
                <ScalarProperty Name="DateAdded" ColumnName="DateAdded" />
                <ScalarProperty Name="DateSettled" ColumnName="DateSettled" />
                <ScalarProperty Name="DateCreditApproved" ColumnName="DateCreditApproved" />
                <ScalarProperty Name="LastUpdatedDateUtc" ColumnName="LastUpdatedDateUtc" />
                <ScalarProperty Name="PermaPending" ColumnName="PermaPending" />
                <ScalarProperty Name="ReviewStatusId" ColumnName="ReviewStatusId" />
                <ScalarProperty Name="MerchantNameId" ColumnName="MerchantNameId" />
                <ScalarProperty Name="UtcReachedTerminalState" ColumnName="UtcReachedTerminalState" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RedemptionEvents">
            <EntityTypeMapping TypeName="CommerceModel.RedemptionEvent">
              <MappingFragment StoreEntitySet="RedemptionEvents">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReferralEventRewards">
            <EntityTypeMapping TypeName="CommerceModel.ReferralEventReward">
              <MappingFragment StoreEntitySet="ReferralEventRewards">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="ReferralTypeId" ColumnName="ReferralTypeId" />
                <ScalarProperty Name="ReferralEventId" ColumnName="ReferralEventId" />
                <ScalarProperty Name="RewardId" ColumnName="RewardId" />
                <ScalarProperty Name="PerUserLimit" ColumnName="PerUserLimit" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReferralEvents">
            <EntityTypeMapping TypeName="CommerceModel.ReferralEvent">
              <MappingFragment StoreEntitySet="ReferralEvents">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Referrals">
            <EntityTypeMapping TypeName="CommerceModel.Referral">
              <MappingFragment StoreEntitySet="Referrals">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="ReferralEventRewardId" ColumnName="ReferralEventRewardId" />
                <ScalarProperty Name="RewardPayoutId" ColumnName="RewardPayoutId" />
                <ScalarProperty Name="ReferralDateUtc" ColumnName="ReferralDateUtc" />
                <ScalarProperty Name="ReferredUserId" ColumnName="ReferredUserId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReferralTypes">
            <EntityTypeMapping TypeName="CommerceModel.ReferralType">
              <MappingFragment StoreEntitySet="ReferralTypes">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Sequence" ColumnName="Sequence" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ReferrerId" ColumnName="ReferrerId" />
                <ScalarProperty Name="ReferrerTypeId" ColumnName="ReferrerTypeId" />
                <ScalarProperty Name="ReferralVectorId" ColumnName="ReferralVectorId" />
                <ScalarProperty Name="RewardRecipientId" ColumnName="RewardRecipientId" />
                <ScalarProperty Name="CreatedDateUtc" ColumnName="CreatedDateUtc" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReferralVectors">
            <EntityTypeMapping TypeName="CommerceModel.ReferralVector">
              <MappingFragment StoreEntitySet="ReferralVectors">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReferrerTypes">
            <EntityTypeMapping TypeName="CommerceModel.ReferrerType">
              <MappingFragment StoreEntitySet="ReferrerTypes">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="ReimbursementTenders">
            <EntityTypeMapping TypeName="CommerceModel.ReimbursementTender">
              <MappingFragment StoreEntitySet="ReimbursementTender">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardPayouts">
            <EntityTypeMapping TypeName="CommerceModel.RewardPayout">
              <MappingFragment StoreEntitySet="RewardPayouts">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="RewardId" ColumnName="RewardId" />
                <ScalarProperty Name="RewardReasonId" ColumnName="RewardReasonId" />
                <ScalarProperty Name="PayeeId" ColumnName="PayeeId" />
                <ScalarProperty Name="PayeeTypeId" ColumnName="PayeeTypeId" />
                <ScalarProperty Name="RewardPayoutStatusId" ColumnName="RewardPayoutStatusId" />
                <ScalarProperty Name="PayoutScheduledDateUtc" ColumnName="PayoutScheduledDateUtc" />
                <ScalarProperty Name="PayoutFinalizedDateUtc" ColumnName="PayoutFinalizedDateUtc" />
                <ScalarProperty Name="AgentId" ColumnName="AgentId" />
                <ScalarProperty Name="AgentTypeId" ColumnName="AgentTypeId" />
                <ScalarProperty Name="Amount" ColumnName="Amount" />
                <ScalarProperty Name="Explanation" ColumnName="Explanation" />
                <ScalarProperty Name="IssuedBy" ColumnName="IssuedBy" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardPayoutStatus">
            <EntityTypeMapping TypeName="CommerceModel.RewardPayoutStatu">
              <MappingFragment StoreEntitySet="RewardPayoutStatus">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardPrograms">
            <EntityTypeMapping TypeName="CommerceModel.RewardProgram">
              <MappingFragment StoreEntitySet="RewardProgram">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="ProgramName" ColumnName="ProgramName" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardReasons">
            <EntityTypeMapping TypeName="CommerceModel.RewardReason">
              <MappingFragment StoreEntitySet="RewardReasons">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardRecipients">
            <EntityTypeMapping TypeName="CommerceModel.RewardRecipient">
              <MappingFragment StoreEntitySet="RewardRecipients">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Rewards">
            <EntityTypeMapping TypeName="CommerceModel.Reward">
              <MappingFragment StoreEntitySet="Rewards">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="RewardTypeId" ColumnName="RewardTypeId" />
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Active" ColumnName="Active" />
                <ScalarProperty Name="Properties" ColumnName="Properties" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RewardTypes">
            <EntityTypeMapping TypeName="CommerceModel.RewardType">
              <MappingFragment StoreEntitySet="RewardTypes">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Sequences">
            <EntityTypeMapping TypeName="CommerceModel.Sequence">
              <MappingFragment StoreEntitySet="Sequences">
                <ScalarProperty Name="SequenceName" ColumnName="SequenceName" />
                <ScalarProperty Name="Seed" ColumnName="Seed" />
                <ScalarProperty Name="Increment" ColumnName="Increment" />
                <ScalarProperty Name="CurrentValue" ColumnName="CurrentValue" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="TrackedRedemptionRewards">
            <EntityTypeMapping TypeName="CommerceModel.TrackedRedemptionReward">
              <MappingFragment StoreEntitySet="TrackedRedemptionRewards">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="RedeemedDealId" ColumnName="RedeemedDealId" />
                <ScalarProperty Name="RewardPayoutId" ColumnName="RewardPayoutId" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="TransactionLinks">
            <EntityTypeMapping TypeName="CommerceModel.TransactionLink">
              <MappingFragment StoreEntitySet="TransactionLinks">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="DealId" ColumnName="DealId" />
                <ScalarProperty Name="UserId" ColumnName="UserId" />
                <ScalarProperty Name="CardId" ColumnName="CardId" />
                <ScalarProperty Name="PartnerId" ColumnName="PartnerId" />
                <ScalarProperty Name="PartnerClaimedDealId" ColumnName="PartnerClaimedDealId" />
                <ScalarProperty Name="DateAdded" ColumnName="DateAdded" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="TransactionReviewStatus">
            <EntityTypeMapping TypeName="CommerceModel.TransactionReviewStatu">
              <MappingFragment StoreEntitySet="TransactionReviewStatus">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="Name" ColumnName="Name" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Users">
            <EntityTypeMapping TypeName="CommerceModel.User">
              <MappingFragment StoreEntitySet="Users">
                <ScalarProperty Name="Id" ColumnName="Id" />
                <ScalarProperty Name="GlobalId" ColumnName="GlobalId" />
                <ScalarProperty Name="UtcAdded" ColumnName="UtcAdded" />
                <ScalarProperty Name="UtcUpdated" ColumnName="UtcUpdated" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="RedemptionReports">
            <EntityTypeMapping TypeName="CommerceModel.RedemptionReport">
              <MappingFragment StoreEntitySet="RedemptionReport">
                <ScalarProperty Name="TransactionId" ColumnName="TransactionId" />
                <ScalarProperty Name="PartnerName" ColumnName="PartnerName" />
                <ScalarProperty Name="PartnerMerchantId" ColumnName="PartnerMerchantId" />
                <ScalarProperty Name="CardBrand" ColumnName="CardBrand" />
                <ScalarProperty Name="LastFourDigits" ColumnName="LastFourDigits" />
                <ScalarProperty Name="DealId" ColumnName="DealId" />
                <ScalarProperty Name="DiscountId" ColumnName="DiscountId" />
                <ScalarProperty Name="GlobalDiscountId" ColumnName="GlobalDiscountId" />
                <ScalarProperty Name="AuthorizationDateTimeLocal" ColumnName="AuthorizationDateTimeLocal" />
                <ScalarProperty Name="AuthorizationDateTimeUtc" ColumnName="AuthorizationDateTimeUtc" />
                <ScalarProperty Name="SettlementDate" ColumnName="SettlementDate" />
                <ScalarProperty Name="CreditApprovalDateTimeUtc" ColumnName="CreditApprovalDateTimeUtc" />
                <ScalarProperty Name="Currency" ColumnName="Currency" />
                <ScalarProperty Name="AuthorizationAmount" ColumnName="AuthorizationAmount" />
                <ScalarProperty Name="SettlementAmount" ColumnName="SettlementAmount" />
                <ScalarProperty Name="DiscountAmount" ColumnName="DiscountAmount" />
                <ScalarProperty Name="CreditStatus" ColumnName="CreditStatus" />
                <ScalarProperty Name="CurrentState" ColumnName="CurrentState" />
                <ScalarProperty Name="LastUpdatedDateUtc" ColumnName="LastUpdatedDateUtc" />
                <ScalarProperty Name="UtcReachedTerminalState" ColumnName="UtcReachedTerminalState" />
                <ScalarProperty Name="GlobalUserID" ColumnName="GlobalUserID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <AssociationSetMapping Name="DealBatchDetails" TypeName="CommerceModel.DealBatchDetails" StoreEntitySet="DealBatchDetails">
            <EndProperty Name="DealBatches">
              <ScalarProperty Name="Id" ColumnName="DealBatchId" />
            </EndProperty>
            <EndProperty Name="Deals">
              <ScalarProperty Name="Id" ColumnName="DealId" />
            </EndProperty>
          </AssociationSetMapping>
          <AssociationSetMapping Name="RewardProgramReimbursementTenderIds" TypeName="CommerceModel.RewardProgramReimbursementTenderIds" StoreEntitySet="RewardProgramReimbursementTenderIds">
            <EndProperty Name="ReimbursementTender">
              <ScalarProperty Name="Id" ColumnName="ReimbursementTenderId" />
            </EndProperty>
            <EndProperty Name="RewardProgram">
              <ScalarProperty Name="Id" ColumnName="RewardProgramId" />
            </EndProperty>
          </AssociationSetMapping>
        </EntityContainerMapping>
      </Mapping>
    </edmx:Mappings>
  </edmx:Runtime>
  <!-- EF Designer content (DO NOT EDIT MANUALLY BELOW HERE) -->
  <Designer xmlns="http://schemas.microsoft.com/ado/2009/11/edmx">
    <Connection>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="MetadataArtifactProcessing" Value="EmbedInOutputAssembly" />
      </DesignerInfoPropertySet>
    </Connection>
    <Options>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="ValidateOnBuild" Value="true" />
        <DesignerProperty Name="EnablePluralization" Value="true" />
        <DesignerProperty Name="IncludeForeignKeysInModel" Value="true" />
        <DesignerProperty Name="UseLegacyProvider" Value="false" />
        <DesignerProperty Name="CodeGenerationStrategy" Value="None" />
      </DesignerInfoPropertySet>
    </Options>
    <!-- Diagram content (shape and connector positions) -->
    <Diagrams></Diagrams>
  </Designer>
</edmx:Edmx>